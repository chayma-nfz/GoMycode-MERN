{"version":3,"sources":["helpers/userFetch.js","components/Home/Images.js","components/Home/Card.js","helpers/cart.js","components/Home/Home.js","helpers/authFetch.js","components/Register/Register.js","components/Google/Google.js","components/FacebookLogin/FaceBookLogin.js","components/SignIn/SignIn.js","components/Navbar/Navbar.js","components/UserDashboard/UserDashboard.js","helpers/user.js","components/About/About.js","helpers/adminFetch.js","components/Shop/defaultPrices.js","components/Shop/Checkbox.js","components/Shop/RadioButton.js","components/Shop/Shop.js","components/Search/Search.js","components/Product/Product.js","components/Cart/Checkout.js","components/Cart/Cart.js","PrivateRoutes/PrivateRoute.js","components/UserDashboard/Profile.js","PrivateRoutes/AdminRoute.js","components/AdminDashboard/AdminDashboard.js","components/AdminDashboard/CreateCategory.js","components/AdminDashboard/CreateProduct.js","components/AdminDashboard/Order.js","components/AdminDashboard/ManageProducts.js","components/AdminDashboard/ManageCategories.js","components/AdminDashboard/UpdateCategory.js","components/AdminDashboard/UpdateProduct.js","components/ForgotPage/ForgotPage.js","components/ResetPage/ResetPage.js","App.js","index.js"],"names":["getProducts","sortBy","fetch","process","REACT_APP_API_URL","method","then","response","json","catch","err","console","log","getFilteredProducts","skip","limit","filters","data","headers","Accept","body","JSON","stringify","Images","item","className","src","_id","alt","name","Card","product","showViewButton","showAddToCartButton","cartUpdate","showRemoveProductButton","setRender","f","render","undefined","useState","count","setCount","redirect","setRedirect","addToCart","next","cart","window","localStorage","getItem","parse","push","Array","from","Set","map","p","id","find","setItem","addItem","handleChange","productId","e","target","value","i","updateItem","to","shouldRedirect","description","substring","price","category","moment","createdAt","fromNow","quantity","showViewProductButton","onClick","showAddToCart","splice","removeItem","showRemoveButton","type","onChange","showCartUpdateOptions","Home","productsBySold","setProductBySold","productsByArrival","setProductByArrival","error","setError","loading","setLoading","useEffect","showLoading","role","key","authenticate","signout","isAuthenticated","Register","email","password","confirmPassword","success","values","setValues","event","clickSubmit","user","preventDefault","style","display","Google","informParent","func","responseGoogle","idToken","tokenId","res","clientId","REACT_APP_GOOGLE_CLIENT_ID","onSuccess","onFailure","Facebook","appId","REACT_APP_FACEBOOK_APP_ID","autoLoad","callback","userID","accessToken","Signin","redirectToReferrer","redirectUser","withRouter","history","isActive","path","location","pathname","color","data-toggle","data-target","length","UserDashboard","setHistory","token","userId","Authorization","getPurchaseHistory","h","products","purchaseHistory","getCategories","defaultPrices","array","Checkbox","categories","handleFilters","checked","setChecked","categoryId","currentCategoryId","indexOf","newCheckedCategoryId","RadioBox","prices","setValue","Shop","setCategories","myFilter","setMyFilter","setSkip","filteredResults","setFilteredResults","size","setSize","loadMore","toSkip","categoryIds","newFilter","handleCategory","priceId","priceRange","parseInt","myNewFilter","handlePrice","Search","search","results","searched","setData","searchMessage","onSubmit","params","query","queryString","getProductsBySearch","c","placeholder","border","searchedProducts","Product","match","setProduct","relatedProducts","setRelatedProducts","getSingleProduct","getRelatedProducts","Checkout","clientToken","instance","address","getToken","getBraintreeClientToken","getTotal","reduce","currentValue","nextValue","Math","round","buy","requestPaymentMethod","paymentData","paymentMethodNonce","nonce","amount","processPayment","createOrderData","transaction_id","transaction","order","createOrder","message","handleAddress","showDropIn","onBlur","options","authorization","paypal","flow","onInstance","Cart","items","setItems","showItems","PrivateRoute","Component","component","rest","props","state","Profile","getUser","updateUser","alert","auth","updateUserLocalStorage","showSuccess","showError","defaultValue","disabled","AdminRoute","AdminDashboard","CreateCategory","setName","setSuccess","createCategory","htmlFor","autoFocus","required","CreateProduct","shipping","photo","createdProduct","formData","FormData","files","set","createProduct","accept","Orders","orders","setOrders","statusValues","setStatusValues","loadOrders","getOrders","getStatusValues","showInput","readOnly","handleStatusChange","orderId","status","updateOrderStatus","o","borderBottom","width","ManageProducts","setProducts","loadProducts","deleteProductButton","deleteProduct","ManageCategories","loadCategories","deleteCategoryButton","deleteCategory","UpdateCategory","updateCategory","UpdateProduct","updatedProduct","loadProduct","getProduct","initCategories","updateProduct","ForgotPage","forgotPasswordFetch","ResetPage","newPassword","jwt","decode","resetPasswordLink","App","exact","SignIn","About","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.4dac9517.chunk.js","sourcesContent":["import queryString from 'query-string';\n\nexport const getProductsBySearch = params => {\n  const query = queryString.stringify(params);\n  console.log('query', query);\n  return fetch(`${process.env.REACT_APP_API_URL}/products/search?${query}`, {\n    method: 'GET'\n  })\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => console.log(err));\n};\n\nexport const getProducts = sortBy => {\n  return fetch(\n    `${process.env.REACT_APP_API_URL}/products?sortBy=${sortBy}&order=desc&limit=6`,\n    {\n      method: 'GET'\n    }\n  )\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => console.log(err));\n};\n\nexport const getFilteredProducts = (skip, limit, filters = {}) => {\n  const data = {\n    limit,\n    skip,\n    filters\n  };\n  return fetch(`${process.env.REACT_APP_API_URL}/products/by/search`, {\n    method: 'POST',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(data)\n  })\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => {\n      console.log(err);\n    });\n};\n\nexport const getSingleProduct = productId => {\n  return fetch(`${process.env.REACT_APP_API_URL}/product/${productId}`, {\n    method: 'GET'\n  })\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => console.log(err));\n};\n\nexport const getRelatedProducts = productId => {\n  return fetch(\n    `${process.env.REACT_APP_API_URL}/products/related/${productId}`,\n    {\n      method: 'GET'\n    }\n  )\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => console.log(err));\n};\n\nexport const getBraintreeClientToken = (userId, token) => {\n  return fetch(\n    `${process.env.REACT_APP_API_URL}/braintree/getToken/${userId}`,\n    {\n      method: 'GET',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${token}`\n      }\n    }\n  )\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => console.log(err));\n};\n\nexport const processPayment = (userId, token, paymentData) => {\n  return fetch(`${process.env.REACT_APP_API_URL}/braintree/payment/${userId}`, {\n    method: 'POST',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${token}`\n    },\n    body: JSON.stringify(paymentData)\n  })\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => console.log(err));\n};\n\nexport const createOrder = (userId, token, createOrderData) => {\n  return fetch(`${process.env.REACT_APP_API_URL}/order/create/${userId}`, {\n    method: 'POST',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${token}`\n    },\n    body: JSON.stringify({ order: createOrderData })\n  })\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => console.log(err));\n};\n","import React from 'react';\n\nconst Images = ({ item }) => {\n  return (\n    <div className=\"product-img\">\n      <img\n        src={`${process.env.REACT_APP_API_URL}/product/photo/${item._id}`}\n        alt={item.name}\n        className=\"m-3\"\n      />\n    </div>\n  );\n};\n\nexport default Images;\n","import React, { useState } from 'react';\nimport { Link, Redirect } from 'react-router-dom';\nimport Images from './Images';\nimport moment from 'moment';\nimport { addItem, updateItem, removeItem } from '../../helpers/cart';\n\nconst Card = ({\n  product,\n  showViewButton = true,\n  showAddToCartButton = true,\n  cartUpdate = false,\n  showRemoveProductButton = false,\n  setRender = f => f,\n  render = undefined\n}) => {\n  const [count, setCount] = useState(1);\n  const [redirect, setRedirect] = useState(false);\n\n  const showViewProductButton = showViewButton => {\n    return (\n      showViewButton && (\n        <Link to={`/product/${product._id}`} className=\"mr-2\">\n          <button className=\"btn btn-outline-primary mt-2 mb-2\">View</button>\n        </Link>\n      )\n    );\n  };\n  const showStock = quantity => {\n    return quantity > 0 ? (\n      <span className=\"badge badge-primary badge-pill mb-2\">In Stock</span>\n    ) : (\n      <span className=\"badge badge-primary badge-pill mb-2\">Out of Stock</span>\n    );\n  };\n\n  // Add to cart functionality\n  const addToCart = () => {\n    addItem(product, () => {\n      setRedirect(true);\n    });\n  };\n\n  const shouldRedirect = redirect => {\n    if (redirect) {\n      return <Redirect to=\"/cart\" />;\n    }\n  };\n\n  const showAddToCart = showAddToCartButton => {\n    return (\n      showAddToCartButton && (\n        <button\n          className=\"btn btn-outline-success mt-2 mb-2\"\n          onClick={addToCart}\n        >\n          Add to cart\n        </button>\n      )\n    );\n  };\n  //Remove item from cart functionality\n  const showRemoveButton = showRemoveProductButton => {\n    return (\n      showRemoveProductButton && (\n        <button\n          className=\"btn btn-outline-danger mt-2 mb-2\"\n          onClick={() => {\n            removeItem(product._id, () => setRedirect(true));\n            setRender(!render); //re-render setItem in localstorage\n          }}\n        >\n          Remove\n        </button>\n      )\n    );\n  };\n\n  // update cart functionality\n\n  const handleChange = productId => e => {\n    setRender(!render); //re-render setItem in localstorage\n    setCount(e.target.value < 1 ? 1 : e.target.value);\n    if (e.target.value >= 1) {\n      updateItem(productId, e.target.value);\n    }\n  };\n\n  const showCartUpdateOptions = cartUpdate => {\n    return (\n      cartUpdate && (\n        <div className=\"input-group mt-1\">\n          <div className=\"input-group-prepend\">\n            <span className=\"input-group-text\">Quantity</span>\n          </div>\n          <input\n            type=\"number\"\n            className=\"form-control\"\n            value={count}\n            onChange={handleChange(product._id)}\n          />\n        </div>\n      )\n    );\n  };\n\n  return (\n    <div className=\"card h-100 text-center\">\n      <div className=\"card-header\">{product.name}</div>\n      <div className=\"card-image\">\n        {shouldRedirect(redirect)}\n        <Images item={product} />\n      </div>\n      <div className=\"column card-body\">\n        <p>{product.description.substring(0, 50)}</p>\n        <hr />\n        <h5>${product.price}</h5>\n        <hr />\n        <p>Category: {product.category && product.category.name}</p>\n        <hr />\n        <p>Added {moment(product.createdAt).fromNow()}</p>\n\n        <div>{showStock(product.quantity)}</div>\n        <div>\n          {showViewProductButton(showViewButton)}\n\n          {showAddToCart(showAddToCartButton)}\n\n          {showRemoveButton(showRemoveProductButton)}\n        </div>\n        {showCartUpdateOptions(cartUpdate)}\n      </div>\n    </div>\n  );\n};\n\nexport default Card;\n","export const addItem = (item, next) => {\n  let cart = [];\n  if (typeof window !== 'undefined') {\n    if (localStorage.getItem('cart')) {\n      cart = JSON.parse(localStorage.getItem('cart'));\n    }\n    cart.push({\n      ...item,\n      count: 1\n    });\n    // remove duplicates\n    // build an Array from new Set and turn it back into array using Array.from\n    // so that later we can re-map it\n    // new set will only allow unique values in it\n    // so pass the ids of each object/product\n    // If the loop tries to add the same value again, it'll get ignored\n    // ...with the array of ids we got on when first map() was used\n    // run map() on it again and return the actual product from the cart\n\n    cart = Array.from(new Set(cart.map(p => p._id))).map(id => {\n      return cart.find(p => p._id === id);\n    });\n\n    localStorage.setItem('cart', JSON.stringify(cart));\n    next();\n  }\n};\n\nexport const updateItem = (productId, count) => {\n  let cart = [];\n  if (typeof window !== 'undefined') {\n    if (localStorage.getItem('cart')) {\n      cart = JSON.parse(localStorage.getItem('cart'));\n    }\n    //find the product in the cart by id and set prop of count to it\n    cart.map((product, i) => {\n      if (product._id === productId) {\n        cart[i].count = count;\n      }\n      return null;\n    });\n    localStorage.setItem('cart', JSON.stringify(cart));\n  }\n};\n\nexport const removeItem = (productId, next) => {\n  let cart = [];\n  if (typeof window !== 'undefined') {\n    if (localStorage.getItem('cart')) {\n      cart = JSON.parse(localStorage.getItem('cart'));\n    }\n    //find the product in the cart by id and set prop of count to it\n    cart.map((product, i) => {\n      if (product._id === productId) {\n        cart.splice(i, 1);\n      }\n      return null;\n    });\n    localStorage.setItem('cart', JSON.stringify(cart));\n    next();\n  }\n  return cart;\n};\n\nexport const getItemTotal = () => {\n  if (typeof window !== 'undefined') {\n    if (localStorage.getItem('cart')) {\n      return JSON.parse(localStorage.getItem('cart')).length;\n    }\n  }\n  return 0;\n};\n\nexport const getCart = () => {\n  if (typeof window !== 'undefined') {\n    if (localStorage.getItem('cart')) {\n      return JSON.parse(localStorage.getItem('cart'));\n    }\n  }\n  return [];\n};\n\nexport const emptyCart = next => {\n  if (typeof window !== 'undefined') {\n    localStorage.removeItem('cart');\n    next();\n  }\n};\n","import React, { useState, useEffect } from 'react';\nimport { getProducts } from '../../helpers/userFetch';\nimport Card from './Card';\n\nconst Home = () => {\n  const [productsBySold, setProductBySold] = useState([]);\n  const [productsByArrival, setProductByArrival] = useState([]);\n  const [error, setError] = useState(false);\n  const [loading, setLoading] = useState(true);\n\n  const loadProductsBySold = () => {\n    getProducts('sold').then(data => {\n      if (data.error) {\n        setError(data.error);\n      } else {\n        setLoading(false);\n        setProductBySold(data);\n      }\n    });\n  };\n\n  const loadProductsByArrival = () => {\n    getProducts('createdAt').then(data => {\n      if (data.error) {\n        setError(data.error);\n      } else {\n        setLoading(false);\n        setProductByArrival(data);\n      }\n    });\n  };\n\n  useEffect(() => {\n    loadProductsByArrival();\n    loadProductsBySold();\n    // eslint-disable-next-line\n  }, []);\n\n  const showError = () => error && <h2>Fail to load!</h2>;\n\n  const showLoading = () =>\n    loading && (\n      <div className=\"d-flex justify-content-center\">\n        <div className=\"spinner-border\" role=\"status\">\n          <span className=\"sr-only\">Loading...</span>\n        </div>\n      </div>\n    );\n\n  return (\n    <div>\n      {showError()}\n      <h1 className=\"title pt-3 pb-3\">New Arrivals</h1>\n      {showLoading()}\n\n      <div className=\"container-fluid row m-0 p-0 card-container\">\n        {productsByArrival.map((product, i) => (\n          <div className=\"col-4 mb-3\" key={i}>\n            <Card product={product} />\n          </div>\n        ))}\n      </div>\n\n      <h1 className=\"title pt-3 pb-3\">Best Sellers</h1>\n      {showLoading()}\n      <div className=\"container-fluid row m-0 p-0 card-container\">\n        {productsBySold.map((product, i) => (\n          <div className=\"col-4 mb-3\" key={i}>\n            <Card product={product} />\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default Home;\n","export const signup = user => {\n  return fetch(`${process.env.REACT_APP_API_URL}/signup`, {\n    method: 'POST',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(user)\n  })\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => {\n      console.log(err);\n    });\n};\n\nexport const signin = user => {\n  return fetch(`${process.env.REACT_APP_API_URL}/signin`, {\n    method: 'POST',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(user)\n  })\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => {\n      console.log(err);\n    });\n};\n\nexport const authenticate = (data, next) => {\n  if (typeof window !== 'undefined') {\n    localStorage.setItem('jwt', JSON.stringify(data));\n    next();\n  }\n};\n\nexport const signout = () => {\n  if (typeof window !== 'undefined') {\n    localStorage.removeItem('jwt');\n\n    return fetch(`${process.env.REACT_APP_API_URL}/signout`, {\n      method: 'GET'\n    })\n      .then(response => {\n        console.log('signout', response);\n      })\n      .catch(err => console.log(err));\n  }\n};\n\nexport const isAuthenticated = () => {\n  if (typeof window == 'undefined') return false;\n  if (localStorage.getItem('jwt')) {\n    return JSON.parse(localStorage.getItem('jwt'));\n  } else {\n    return false;\n  }\n};\n\nexport const googleLogin = user => {\n  return fetch(`${process.env.REACT_APP_API_URL}/google-login`, {\n    method: 'POST',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(user)\n  })\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => console.log(err));\n};\n\nexport const facebookLogin = user => {\n  return fetch(`${process.env.REACT_APP_API_URL}/facebook-login`, {\n    method: 'POST',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(user)\n  })\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => console.log(err));\n};\n\nexport const forgotPasswordFetch = email => {\n  return fetch(`${process.env.REACT_APP_API_URL}/forgot-password`, {\n    method: 'PUT',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(email)\n  })\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => console.log(err));\n};\n\nexport const resetPasswordFetch = data => {\n  return fetch(`${process.env.REACT_APP_API_URL}/reset-password`, {\n    method: 'PUT',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(data)\n  })\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => console.log(err));\n};\n","import React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { signup } from '../../helpers/authFetch';\n\nconst Register = () => {\n  const [values, setValues] = useState({\n    name: '',\n    email: '',\n    password: '',\n    confirmPassword: '',\n    error: '',\n    success: false\n  });\n\n  const { name, email, password, confirmPassword, success, error } = values;\n\n  const handleChange = name => event => {\n    setValues({ ...values, error: false, [name]: event.target.value });\n  };\n\n  const clickSubmit = event => {\n    event.preventDefault();\n    if (password !== confirmPassword) {\n      setValues({ ...values, error: 'Password do not match' });\n    } else {\n      setValues({ ...values, error: false });\n      signup({ name, email, password }).then(data => {\n        if (data.error) {\n          setValues({ ...values, error: data.error, success: false });\n        } else {\n          setValues({\n            ...values,\n            name: '',\n            email: '',\n            password: '',\n            confirmPassword: '',\n            error: '',\n            success: true\n          });\n        }\n      });\n    }\n  };\n\n  const signUpForm = () => (\n    <form>\n      <div className=\"form-group\">\n        <label className=\"text-muted\">Name</label>\n        <input\n          onChange={handleChange('name')}\n          type=\"text\"\n          className=\"form-control\"\n          value={name}\n        />\n      </div>\n\n      <div className=\"form-group\">\n        <label className=\"text-muted\">Email</label>\n        <input\n          onChange={handleChange('email')}\n          type=\"email\"\n          className=\"form-control\"\n          value={email}\n        />\n      </div>\n\n      <div className=\"form-group\">\n        <label className=\"text-muted\">Password</label>\n        <input\n          onChange={handleChange('password')}\n          type=\"password\"\n          className=\"form-control\"\n          value={password}\n        />\n      </div>\n\n      <div className=\"form-group\">\n        <label className=\"text-muted\">Confirm Password</label>\n        <input\n          onChange={handleChange('confirmPassword')}\n          type=\"password\"\n          className=\"form-control\"\n          value={confirmPassword}\n        />\n      </div>\n\n      <button onClick={clickSubmit} className=\"btn btn-primary float-right\">\n        Submit\n      </button>\n    </form>\n  );\n\n  const showError = () => (\n    <div\n      className=\"alert alert-danger\"\n      style={{ display: error ? '' : 'none' }}\n    >\n      {error}\n    </div>\n  );\n\n  const showSuccess = () => (\n    <div\n      className=\"alert alert-info\"\n      style={{ display: success ? '' : 'none' }}\n    >\n      New account is created. Please <Link to=\"/signin\">Sign In</Link>\n    </div>\n  );\n\n  return (\n    <div className=\"container w-50\">\n      <h1 className=\"title\">Register</h1>\n      {showSuccess()}\n      {showError()}\n      {signUpForm()}\n    </div>\n  );\n};\n\nexport default Register;\n","import React from 'react';\nimport GoogleLogin from 'react-google-login';\nimport { googleLogin } from '../../helpers/authFetch';\n\nconst Google = ({ informParent = func => func }) => {\n  const responseGoogle = response => {\n    // console.log(response);\n    googleLogin({ idToken: response.tokenId })\n      .then(res => {\n        // console.log('GOOGLE SIGNIN SUCCESS', res);\n        // inform parent component/Signin to save the user into the localstorage\n        informParent(res);\n      })\n      .catch(error => {\n        // console.log('GOOGLE SIGNIN ERROR', error);\n      });\n  };\n  return (\n    <div className=\"pb-3\">\n      <GoogleLogin\n        clientId={`${process.env.REACT_APP_GOOGLE_CLIENT_ID}`}\n        onSuccess={responseGoogle}\n        onFailure={responseGoogle}\n      />\n    </div>\n  );\n};\n\nexport default Google;\n","import React from 'react';\nimport FacebookLogin from 'react-facebook-login';\nimport { facebookLogin } from '../../helpers/authFetch';\n\nconst Facebook = ({ informParent = func => func }) => {\n  const responseFacebook = response => {\n    // console.log(response);\n\n    facebookLogin({\n      userID: response.userID,\n      accessToken: response.accessToken\n    })\n      .then(response => {\n        // console.log('FACEBOOK SIGNIN SUCCESS', response);\n        // inform parent component\n        informParent(response);\n      })\n      .catch(error => {\n        // console.log('FACEBOOK SIGNIN ERROR', error.response);\n      });\n  };\n  return (\n    <div>\n      <FacebookLogin\n        appId={`${process.env.REACT_APP_FACEBOOK_APP_ID}`}\n        autoLoad={false}\n        callback={responseFacebook}\n        // render={renderProps => (\n        //   <button\n        //     onClick={renderProps.onClick}\n        //     className=\"btn btn-primary btn-lg btn-block\"\n        //   >\n        //     <i className=\"fab fa-facebook pr-2\"></i> Sign In with FaceBook\n        //   </button>\n        // )}\n        // icon=\"fa-facebook\"\n      />\n    </div>\n  );\n};\n\nexport default Facebook;\n","import React, { useState } from 'react';\nimport { Link, Redirect } from 'react-router-dom';\nimport { signin, authenticate } from '../../helpers/authFetch';\nimport Google from '../Google/Google';\nimport Facebook from '../FacebookLogin/FaceBookLogin';\n\nconst Signin = () => {\n  const [values, setValues] = useState({\n    email: '',\n    password: '',\n    error: '',\n    loading: false,\n    redirectToReferrer: false\n  });\n\n  const { email, password, loading, error, redirectToReferrer } = values;\n\n  const handleChange = name => event => {\n    setValues({ ...values, error: false, [name]: event.target.value });\n  };\n\n  const clickSubmit = event => {\n    event.preventDefault();\n    setValues({ ...values, error: false, loading: true });\n    signin({ email, password }).then(data => {\n      if (data.error) {\n        setValues({ ...values, error: data.error, loading: false });\n      } else {\n        authenticate(data, () => {\n          setValues({\n            ...values,\n            redirectToReferrer: true\n          });\n        });\n      }\n    });\n  };\n\n  const signUpForm = () => (\n    <form>\n      <div className=\"form-group\">\n        <label className=\"text-muted\">Email</label>\n        <input\n          onChange={handleChange('email')}\n          type=\"email\"\n          className=\"form-control\"\n          value={email}\n        />\n      </div>\n\n      <div className=\"form-group\">\n        <label className=\"text-muted\">Password</label>\n        <input\n          onChange={handleChange('password')}\n          type=\"password\"\n          className=\"form-control\"\n          value={password}\n        />\n      </div>\n      <div>\n        <p>\n          Don't remember your password?\n          <Link to=\"/auth/password/forgot\">&nbsp;Click here!</Link>\n        </p>\n      </div>\n      <button onClick={clickSubmit} className=\"btn btn-primary float-right\">\n        Submit\n      </button>\n    </form>\n  );\n\n  const showError = () => (\n    <div\n      className=\"alert alert-danger\"\n      style={{ display: error ? '' : 'none' }}\n    >\n      {error}\n    </div>\n  );\n\n  const showLoading = () =>\n    loading && (\n      <div className=\"d-flex justify-content-center\">\n        <div className=\"spinner-border\" role=\"status\">\n          <span className=\"sr-only\">Loading...</span>\n        </div>\n      </div>\n    );\n\n  const redirectUser = () => {\n    if (redirectToReferrer) {\n      return <Redirect to=\"/\" />;\n    }\n  };\n\n  const informParent = response => {\n    authenticate(response, () => {\n      setValues({\n        ...values,\n        redirectToReferrer: true\n      });\n    });\n  };\n\n  return (\n    <div className=\"container w-50\">\n      <h1 className=\"title\">Sign In</h1>\n      {showLoading()}\n      {showError()}\n      <div className=\"text-center\">\n        <Google informParent={informParent} />\n        <Facebook informParent={informParent} />\n      </div>\n\n      {signUpForm()}\n      {redirectUser()}\n    </div>\n  );\n};\n\nexport default Signin;\n","import React from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport { isAuthenticated, signout } from '../../helpers/authFetch';\nimport { getItemTotal } from '../../helpers/cart';\n\nconst Navbar = ({ history }) => {\n  const isActive = path => {\n    if (history.location.pathname === path) {\n      return { color: '#007bff' };\n    } else {\n      return { color: '#fff' };\n    }\n  };\n\n  return (\n    <nav className=\"navbar navbar-expand-md navbar-dark bg-dark sticky-top\">\n      <Link className=\"navbar-brand\" to=\"/about\">\n        My Store <i className=\"fa fa-store\"></i>\n      </Link>\n\n      <button\n        className=\"navbar-toggler\"\n        type=\"button\"\n        data-toggle=\"collapse\"\n        data-target=\"#navbar\"\n      >\n        <span className=\"navbar-toggler-icon\"></span>\n      </button>\n\n      <div className=\"collapse navbar-collapse\" id=\"navbar\">\n        <ul className=\"navbar-nav ml-auto\">\n          <li className=\"nav-item\">\n            <Link to=\"/\" className=\"nav-link\" style={isActive('/')}>\n              <i className=\"fa fa-home\"></i>&nbsp;Home\n            </Link>\n          </li>\n          <li className=\"nav-item\">\n            <Link to=\"/shop\" className=\"nav-link\" style={isActive('/shop')}>\n              Shop\n            </Link>\n          </li>\n          <li className=\"nav-item\">\n            <Link to=\"/search\" className=\"nav-link\" style={isActive('/search')}>\n              Search\n            </Link>\n          </li>\n          <li className=\"nav-item\">\n            <Link to=\"/cart\" className=\"nav-link\" style={isActive('/cart')}>\n              <i className=\"fa fa-shopping-cart\"></i>&nbsp;\n              <sup>\n                <medium>{getItemTotal()}</medium>\n              </sup>\n            </Link>\n          </li>\n\n          {!isAuthenticated() && (\n            <>\n              <li className=\"nav-item\">\n                <Link\n                  to=\"/register\"\n                  className=\"nav-link\"\n                  style={isActive('/register')}\n                >\n                  Register\n                </Link>\n              </li>\n              <li className=\"nav-item\">\n                <Link\n                  to=\"/signin\"\n                  className=\"nav-link\"\n                  style={isActive('/signin')}\n                >\n                  Sign In\n                </Link>\n              </li>\n            </>\n          )}\n\n          {/* Admin Links */}\n          {isAuthenticated() && isAuthenticated().user.role === 1 && (\n            <>\n              <li className=\"nav-item\">\n                <Link\n                  to=\"/admin/dashboard\"\n                  className=\"nav-link\"\n                  style={isActive('/admin/dashboard')}\n                >\n                  <i className=\"fa fa-user-circle\"></i>&nbsp;Admin\n                </Link>\n              </li>\n              <li className=\"nav-item\">\n                <Link\n                  to=\"/signin\"\n                  className=\"nav-link\"\n                  style={isActive('/signout')}\n                  onClick={() => signout()}\n                >\n                  <i className=\"fa fa-sign-out-alt\"></i>\n                </Link>\n              </li>\n            </>\n          )}\n          {/* User Links */}\n          {isAuthenticated() && isAuthenticated().user.role === 0 && (\n            <>\n              <li className=\"nav-item\">\n                <Link\n                  to=\"/user/dashboard\"\n                  className=\"nav-link\"\n                  style={isActive('/user/dashboard')}\n                >\n                  <i className=\"fa fa-user-circle\"></i>&nbsp;\n                  {isAuthenticated().user.name}\n                </Link>\n              </li>\n              <li className=\"nav-item\">\n                <Link\n                  to=\"/signin\"\n                  className=\"nav-link\"\n                  style={isActive('/signout')}\n                  onClick={() => signout()}\n                >\n                  <i className=\"fa fa-sign-out-alt\"></i>\n                </Link>\n              </li>\n            </>\n          )}\n        </ul>\n      </div>\n    </nav>\n  );\n};\n\nexport default withRouter(Navbar);\n","import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport moment from 'moment';\n\nimport { isAuthenticated } from '../../helpers/authFetch';\nimport { getPurchaseHistory } from '../../helpers/user';\n\nconst UserDashboard = () => {\n  const [history, setHistory] = useState([]);\n\n  const {\n    user: { name, email, role, _id }\n  } = isAuthenticated();\n  const token = isAuthenticated().token;\n\n  // console.log(_id);\n  // console.log(token);\n  // console.log(history);\n\n  useEffect(() => {\n    getPurchaseHistory(_id, token).then(data => {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        setHistory(data);\n      }\n    });\n    // eslint-disable-next-line\n  }, []);\n\n  const userLinks = () => {\n    return (\n      <div className=\"card \">\n        <h4 className=\"card-header\">User Links</h4>\n        <ul className=\"list-group\">\n          <li className=\"list-group-item\">\n            <Link className=\"nav-link\" to=\"/cart\">\n              My Cart\n            </Link>\n          </li>\n          <li className=\"list-group-item\">\n            <Link className=\"nav-link\" to={`/profile/${_id}`}>\n              Update Profile\n            </Link>\n          </li>\n        </ul>\n      </div>\n    );\n  };\n\n  const userInfo = () => {\n    return (\n      <div className=\"card mb-5 card-dashboard\">\n        <h3 className=\"card-header\">User Information</h3>\n        <ul className=\"list-group\">\n          <li className=\"list-group-item\">Name:&nbsp;{name}</li>\n          <li className=\"list-group-item\">Email:&nbsp;{email}</li>\n          <li className=\"list-group-item\">\n            Role:&nbsp;{role === 1 ? 'Admin' : 'Registered User'}\n          </li>\n        </ul>\n      </div>\n    );\n  };\n\n  const purchaseHistory = history => {\n    return (\n      <div className=\"card mb-5\">\n        <h3 className=\"card-header\">Purchase history</h3>\n        <ul className=\"list-group\">\n          <li className=\"list-group-item\">\n            {history.map(h => {\n              return (\n                <div key={h._id}>\n                  <h3>Total Products:&nbsp;{h.products.length}</h3>\n                  <hr />\n                  {h.products.map(p => {\n                    return (\n                      <div key={p._id}>\n                        <h6>Name: {p.name}</h6>\n                        <h6>Price: ${p.price}</h6>\n                        <h6>Purchase Date: {moment(p.createdAt).fromNow()}</h6>\n                        <hr />\n                      </div>\n                    );\n                  })}\n                </div>\n              );\n            })}\n          </li>\n        </ul>\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"row p-5 card-container\">\n      <div className=\"col-4\">{userLinks()}</div>\n      <div className=\"col-8\">\n        {userInfo()}\n        {purchaseHistory(history)}\n      </div>\n    </div>\n  );\n};\n\nexport default UserDashboard;\n","export const getUser = (userId, token) => {\n  return fetch(`${process.env.REACT_APP_API_URL}/user/${userId}`, {\n    method: 'GET',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${token}`\n    }\n  })\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => {\n      console.log(err);\n    });\n};\n\nexport const updateUser = (userId, token, user) => {\n  return fetch(`${process.env.REACT_APP_API_URL}/user/${userId}`, {\n    method: 'PUT',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${token}`\n    },\n    body: JSON.stringify(user)\n  })\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => {\n      console.log(err);\n    });\n};\n\nexport const updateUserLocalStorage = (user, next) => {\n  if (typeof window !== 'undefined') {\n    if (localStorage.getItem('jwt')) {\n      let auth = JSON.parse(localStorage.getItem('jwt'));\n      auth.user = user;\n      localStorage.setItem('user', JSON.stringify(auth));\n      next();\n    }\n  }\n};\n\nexport const getPurchaseHistory = (userId, token) => {\n  return fetch(`${process.env.REACT_APP_API_URL}/orders/by/user/${userId}`, {\n    method: 'GET',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${token}`\n    }\n  })\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => console.log(err));\n};\n","import React from 'react';\n\nconst Home = () => {\n  return (\n    <div className=\"col-md-6 offset-md-3\">\n      <h4 className=\"pt-4 pb-3 text-center\">MongoDB Express React Node</h4>\n\n      <hr />\n      <div>\n        <h3>App features:</h3>\n        <ul className=\"ml-5\">\n          <li>Login/Signup system</li>\n          <li>Forgot/Reset password via email</li>\n          <li>User/Admin dashboard</li>\n          <li>CRUD products, categories</li>\n          <li>Products filtered by search, category and price</li>\n          <li>Product page with related products</li>\n          <li>Shopping cart</li>\n          <li>Payment with PayPal</li>\n          <li>Order notification</li>\n        </ul>\n      </div>\n\n      <footer className=\"bg-dark p-2 fixed-bottom\">\n        <div className=\"container-fluid text-white\">\n          <div className=\"row\">\n            <div className=\"col-6\">\n              <p className=\"mb-0 \">\n                Copyright &copy; 2020 All Rights Reserved by Khoa Do\n              </p>\n            </div>\n            <div className=\"col-6 d-flex justify-content-center align-items-center\">\n              <div className=\"mr-3\">\n                <i className=\"fab fa-facebook \"></i>\n              </div>\n              <div className=\"mr-3\">\n                <i className=\"fab fa-linkedin\"></i>\n              </div>\n              <div className=\"mr-3\">\n                <i className=\"fab fa-dribbble\"></i>\n              </div>\n              <div className=\"mr-3\">\n                <i className=\"fab fa-instagram\"></i>\n              </div>\n            </div>\n          </div>\n        </div>\n      </footer>\n    </div>\n  );\n};\n\nexport default Home;\n","//---------------Categories Fetch\nexport const createCategory = (userId, token, category) => {\n  return fetch(`${process.env.REACT_APP_API_URL}/category/create/${userId}`, {\n    method: 'POST',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${token}`\n    },\n    body: JSON.stringify(category)\n  })\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => {\n      console.log(err);\n    });\n};\n\nexport const getCategories = () => {\n  return fetch(`${process.env.REACT_APP_API_URL}/categories`, {\n    method: 'GET'\n  })\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => console.log(err));\n};\n\nexport const deleteCategory = (userId, token, categoryId) => {\n  return fetch(\n    `${process.env.REACT_APP_API_URL}/category/${categoryId}/${userId}`,\n    {\n      method: 'DELETE',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${token}`\n      }\n    }\n  )\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => console.log(err));\n};\n\nexport const getCategory = categoryId => {\n  return fetch(`${process.env.REACT_APP_API_URL}/category/${categoryId}`, {\n    method: 'GET'\n  })\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => console.log(err));\n};\n\nexport const updateCategory = (userId, token, categoryId, category) => {\n  return fetch(\n    `${process.env.REACT_APP_API_URL}/category/${categoryId}/${userId}`,\n    {\n      method: 'PUT',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${token}`\n      },\n      body: JSON.stringify(category)\n    }\n  )\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => console.log(err));\n};\n\n//----------------Orders Fetch---------------\nexport const getOrders = (userId, token) => {\n  return fetch(`${process.env.REACT_APP_API_URL}/order/list/${userId}`, {\n    method: 'GET',\n    headers: {\n      Accept: 'application/json',\n      Authorization: `Bearer ${token}`\n    }\n  })\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => console.log(err));\n};\n\nexport const getStatusValues = (userId, token) => {\n  return fetch(\n    `${process.env.REACT_APP_API_URL}/order/status-values/${userId}`,\n    {\n      method: 'GET',\n      headers: {\n        Accept: 'application/json',\n        Authorization: `Bearer ${token}`\n      }\n    }\n  )\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => console.log(err));\n};\n\nexport const updateOrderStatus = (userId, token, orderId, status) => {\n  return fetch(\n    `${process.env.REACT_APP_API_URL}/order/${orderId}/status/${userId}`,\n    {\n      method: 'PUT',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${token}`\n      },\n      body: JSON.stringify({ status, orderId })\n    }\n  )\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => console.log(err));\n};\n\n//----------Products Fetch----------\nexport const createProduct = (userId, token, product) => {\n  return fetch(`${process.env.REACT_APP_API_URL}/product/create/${userId}`, {\n    method: 'POST',\n    headers: {\n      Accept: 'application/json',\n      Authorization: `Bearer ${token}`\n    },\n    body: product\n  })\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => {\n      console.log(err);\n    });\n};\n\nexport const getProducts = () => {\n  return fetch(`${process.env.REACT_APP_API_URL}/products?limit=undefined`, {\n    method: 'GET'\n  })\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => console.log(err));\n};\n\nexport const deleteProduct = (productId, userId, token) => {\n  return fetch(\n    `${process.env.REACT_APP_API_URL}/product/${productId}/${userId}`,\n    {\n      method: 'DELETE',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${token}`\n      }\n    }\n  )\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => console.log(err));\n};\n\nexport const getProduct = productId => {\n  return fetch(`${process.env.REACT_APP_API_URL}/product/${productId}`, {\n    method: 'GET'\n  })\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => console.log(err));\n};\n\nexport const updateProduct = (userId, token, productId, product) => {\n  return fetch(\n    `${process.env.REACT_APP_API_URL}/product/${productId}/${userId}`,\n    {\n      method: 'PUT',\n      headers: {\n        Accept: 'application/json',\n        Authorization: `Bearer ${token}`\n      },\n      body: product\n    }\n  )\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => console.log(err));\n};\n","export const defaultPrices = [\n  {\n    _id: 0,\n    name: 'Any',\n    array: []\n  },\n  {\n    _id: 1,\n    name: '$0-9',\n    array: [0, 9]\n  },\n  {\n    _id: 2,\n    name: '$10-19',\n    array: [10, 19]\n  },\n  {\n    _id: 3,\n    name: '$20-29',\n    array: [20, 29]\n  },\n  {\n    _id: 4,\n    name: '$30-39',\n    array: [30, 39]\n  },\n  {\n    _id: 5,\n    name: '$40+',\n    array: [40, 1000]\n  }\n];\n","import React, { useState } from 'react';\n\nconst Checkbox = ({ categories, handleFilters }) => {\n  const [checked, setChecked] = useState([]);\n\n  const handleToggle = categoryId => () => {\n    //return -1 if categoryId is not in the checked state\n    const currentCategoryId = checked.indexOf(categoryId);\n    //if -1, push it to the state, else splice it out\n    const newCheckedCategoryId = [...checked];\n    if (currentCategoryId === -1) {\n      newCheckedCategoryId.push(categoryId);\n    } else {\n      newCheckedCategoryId.splice(currentCategoryId, 1);\n    }\n    setChecked(newCheckedCategoryId);\n    //pass [ids] to parent components\n    handleFilters(newCheckedCategoryId);\n  };\n\n  return categories.map(category => (\n    <li className=\"list-unstyled ml-4\" key={category._id}>\n      <div className=\"form-check\">\n        <input\n          type=\"checkbox\"\n          className=\"form-check-input \"\n          onChange={handleToggle(category._id)}\n        />\n        <label className=\"form-check-label font-weight-bold\">\n          {category.name}\n        </label>\n      </div>\n    </li>\n  ));\n};\n\nexport default Checkbox;\n","import React, { useState } from 'react';\n\nconst RadioBox = ({ prices, handleFilters }) => {\n  // eslint-disable-next-line\n  const [value, setValue] = useState(0);\n\n  const handleChange = event => {\n    handleFilters(event.target.value);\n    setValue(event.target.value);\n  };\n\n  return prices.map((p, i) => (\n    <div key={i}>\n      <input\n        onChange={handleChange}\n        value={`${p._id}`}\n        name={p}\n        type=\"radio\"\n        className=\"ml-4\"\n      />\n      <label className=\"form-check-label font-weight-bold\">{p.name}</label>\n    </div>\n  ));\n};\n\nexport default RadioBox;\n","import React, { useState, useEffect } from 'react';\nimport { getCategories } from '../../helpers/adminFetch';\nimport { getFilteredProducts } from '../../helpers/userFetch';\nimport { defaultPrices } from './defaultPrices';\n\nimport Card from '../Home/Card';\nimport Checkbox from './Checkbox';\nimport RadioBox from './RadioButton';\n\nconst Shop = () => {\n  const [categories, setCategories] = useState([]);\n  const [myFilter, setMyFilter] = useState({\n    filters: { category: [], price: [] }\n  });\n  const [setError] = useState(false);\n  const [limit] = useState(6);\n  const [skip, setSkip] = useState(0);\n  const [filteredResults, setFilteredResults] = useState([]);\n  const [size, setSize] = useState(0);\n  // console.log(myFilter.filters);\n\n  useEffect(() => {\n    //Get the categories from API\n    getCategories().then(data => {\n      if (data.error) {\n        setError(data.error);\n      } else {\n        // console.log(data);\n        setCategories(data);\n      }\n    });\n    //Get the filtered products from API\n    getFilteredProducts(skip, limit, myFilter.filters).then(data => {\n      if (data.error) {\n        setError(data.error);\n      } else {\n        setFilteredResults(data.data);\n        //for Load More button, size from the API\n        setSize(data.size);\n        setSkip(0);\n      }\n    });\n    // eslint-disable-next-line\n  }, [myFilter]);\n\n  const loadMore = () => {\n    let toSkip = skip + limit;\n    getFilteredProducts(toSkip, limit, myFilter.filters).then(data => {\n      if (data.error) {\n        setError(data.error);\n      } else {\n        setFilteredResults([...filteredResults, ...data.data]);\n        setSize(data.size);\n        setSkip(toSkip);\n      }\n    });\n  };\n\n  const loadMoreButton = () => {\n    return (\n      size > 0 &&\n      size >= limit && (\n        <button onClick={loadMore} className=\"btn btn-primary mb-5\">\n          Load more\n        </button>\n      )\n    );\n  };\n\n  const handleCategory = categoryIds => {\n    const newFilter = { ...myFilter };\n    //push ids from checkbox component to the state\n    newFilter.filters['category'] = categoryIds;\n    setMyFilter(newFilter);\n  };\n\n  const handlePrice = priceId => {\n    let priceRange = [];\n    // 1. loop over the keys in the defaultPrice and find the price range that match the id\n    for (let key in defaultPrices) {\n      if (defaultPrices[key]._id === parseInt(priceId)) {\n        priceRange = defaultPrices[key].array;\n      }\n    }\n    // 2. set the price range in the existing filter\n    let myNewFilter = { ...myFilter };\n    myFilter.filters['price'] = priceRange;\n    setMyFilter(myNewFilter);\n  };\n\n  return (\n    <div className=\"text-center\">\n      <div className=\"m-3\">\n        <h1 className=\"title\">Filter By </h1>\n      </div>\n\n      <div className=\"container-fluid ml-0 row mark d-flex justify-content-center align-content-center\">\n        <Checkbox\n          categories={categories}\n          handleFilters={categoryIds => handleCategory(categoryIds)}\n        />\n      </div>\n      <div className=\"container-fluid ml-0 row  mark d-flex justify-content-center align-content-center\">\n        <RadioBox\n          prices={defaultPrices}\n          handleFilters={priceId => handlePrice(priceId)}\n        />\n      </div>\n\n      <div className=\"row m-3 card-container\">\n        {filteredResults.map((product, i) => (\n          <div className=\"col-4 mb-3\" key={i}>\n            <Card product={product} />\n          </div>\n        ))}\n      </div>\n      {loadMoreButton()}\n    </div>\n  );\n};\n\nexport default Shop;\n","import React, { useState, useEffect } from 'react';\nimport { getCategories } from '../../helpers/adminFetch';\nimport { getProductsBySearch } from '../../helpers/userFetch';\nimport Card from '../Home/Card';\n\nconst Search = () => {\n  const [data, setData] = useState({\n    categories: [],\n    category: '',\n    search: '',\n    results: [],\n    searched: false\n  });\n\n  const { categories, category, search, results, searched } = data;\n\n  useEffect(() => {\n    getCategories().then(data => {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        setData({ ...data, categories: data });\n      }\n    });\n    // eslint-disable-next-line\n  }, []);\n\n  const handleChange = name => event => {\n    setData({ ...data, [name]: event.target.value });\n  };\n\n  const searchSubmit = event => {\n    event.preventDefault();\n    console.log(`search:${search}`, `category:${category}`);\n    if (search) {\n      getProductsBySearch({\n        search: search || undefined,\n        category: category\n      }).then(response => {\n        if (response.error) {\n          console.log(response.error);\n        } else {\n          setData({ ...data, results: response, searched: true });\n        }\n      });\n    }\n  };\n\n  // console.log(results);\n\n  const searchMessage = (searched, results) => {\n    if (searched && results.length > 0) {\n      return `Found ${results.length} products.`;\n    }\n    if (searched && results.length < 1) {\n      return `No product found!`;\n    }\n  };\n\n  const searchedProducts = (results = []) => {\n    return (\n      <div className=\"mt-3 text-center\">\n        <h2 className=\"mt-3 mb-3\">{searchMessage(searched, results)}</h2>\n        <div className=\"row card-container\">\n          {results.map((product, i) => (\n            <div className=\"col-4 mb-3\" key={i}>\n              <Card product={product} />\n            </div>\n          ))}\n        </div>\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"m-3\">\n      {/* Search Form */}\n      <form onSubmit={searchSubmit}>\n        <span className=\"input-group-text\">\n          <div className=\"input-group input-group-lg\">\n            <div className=\"input-group-prepend\">\n              <select className=\"btn mr-2\" onChange={handleChange('category')}>\n                <option value=\"All\">All</option>\n                {categories.map((c, i) => (\n                  <option key={i} value={c._id}>\n                    {c.name}\n                  </option>\n                ))}\n              </select>\n            </div>\n\n            <input\n              type=\"search\"\n              className=\"form-control\"\n              onChange={handleChange('search')}\n              placeholder=\"Enter name\"\n            />\n          </div>\n          <div className=\"btn input-group-append\" style={{ border: 'none' }}>\n            <button className=\"btn btn-primary\">Search</button>\n          </div>\n        </span>\n      </form>\n      {/* Search  Results*/}\n      {searchedProducts(results)}\n    </div>\n  );\n};\n\nexport default Search;\n","import React, { useState, useEffect } from 'react';\nimport { getSingleProduct, getRelatedProducts } from '../../helpers/userFetch';\nimport Card from '../Home/Card';\n\nconst Product = ({ match }) => {\n  const [product, setProduct] = useState({});\n  const [relatedProducts, setRelatedProducts] = useState([]);\n  const { setError } = useState(false);\n\n  useEffect(() => {\n    const productId = match.params.productId;\n    //Fetch single Product\n    getSingleProduct(productId).then(data => {\n      if (data.error) {\n        setError(data.error);\n      } else {\n        setProduct(data);\n        // Fetch related products if fetch single product successfully\n        getRelatedProducts(data._id).then(data => {\n          if (data.error) {\n            setError(data.error);\n          } else {\n            setRelatedProducts(data);\n          }\n        });\n      }\n    });\n    // eslint-disable-next-line\n  }, []);\n\n  // console.log(product);\n  // console.log(relatedProducts);\n  const showNoRelated = () => {\n    return relatedProducts.length === 0 && <h4>No related products found.</h4>;\n  };\n\n  return (\n    <>\n      <div className=\"m-2 d-flex justify-content-center\">\n        <div className=\"col-6\">\n          {product && product.description && (\n            <Card product={product} showViewButton={false} />\n          )}\n        </div>\n      </div>\n      <div className=\"text-center\">\n        <h1 className=\"title p-3\">Related Products</h1>\n        {showNoRelated()}\n        <div className=\"row m-2\">\n          {relatedProducts.map(product => (\n            <div className=\"col-4\" key={product._id}>\n              <Card product={product} />\n            </div>\n          ))}\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default Product;\n","import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport DropIn from 'braintree-web-drop-in-react'; //https://www.npmjs.com/package/braintree-web-drop-in-react\nimport {\n  processPayment,\n  getBraintreeClientToken,\n  createOrder\n} from '../../helpers/userFetch';\nimport { isAuthenticated } from '../../helpers/authFetch';\nimport { emptyCart } from '../../helpers/cart';\n\nconst Checkout = ({ products, setRender = f => f, render = undefined }) => {\n  const [data, setData] = useState({\n    loading: false,\n    success: false,\n    clientToken: null,\n    error: '',\n    instance: {},\n    address: ''\n  });\n\n  const userId = isAuthenticated() && isAuthenticated().user._id;\n  const token = isAuthenticated() && isAuthenticated().token;\n\n  const getToken = (userId, token) => {\n    getBraintreeClientToken(userId, token).then(data => {\n      if (data.error) {\n        setData({ ...data, error: data.error });\n      } else {\n        setData({ clientToken: data.clientToken });\n      }\n    });\n  };\n\n  useEffect(() => {\n    getToken(userId, token);\n    // eslint-disable-next-line\n  }, []);\n\n  const getTotal = () => {\n    return products.reduce((currentValue, nextValue) => {\n      return Math.round(currentValue + nextValue.count * nextValue.price);\n    }, 0);\n  };\n\n  const showCheckout = () => {\n    return isAuthenticated() ? (\n      <div>{showDropIn()}</div>\n    ) : (\n      <Link to=\"/signin\">\n        <button className=\"btn btn-primary\">Sign in here</button>\n      </Link>\n    );\n  };\n\n  const buy = () => {\n    setData({ loading: true });\n    // send the nonce to your server\n    // nonce = data.instance.requestPaymentMethod()\n    let nonce;\n    // eslint-disable-next-line\n    let getNonce = data.instance\n      .requestPaymentMethod()\n      .then(res => {\n        // console.log(data);\n        nonce = res.nonce;\n        // once you have nonce (card type, card number) send nonce as 'paymentMethodNonce'\n        // and also total to be charged\n        // console.log(\n        //     \"send nonce and total to process: \",\n        //     nonce,\n        //     getTotal(products)\n        // );\n        const paymentData = {\n          paymentMethodNonce: nonce,\n          amount: getTotal(products)\n        };\n\n        processPayment(userId, token, paymentData)\n          .then(response => {\n            // console.log(response);\n            setData({ ...data, success: response.success });\n            // create order\n            const createOrderData = {\n              products: products,\n              transaction_id: response.transaction.id,\n              amount: response.transaction.amount,\n              address: data.address\n            };\n            createOrder(userId, token, createOrderData);\n            // empty cart\n            emptyCart(() => {\n              setRender(!render); // re-render localstorage\n              console.log('payment success and empty cart');\n              setData({ loading: false, success: true });\n            });\n          })\n          .catch(error => {\n            console.log(error);\n            setData({ loading: false });\n          });\n      })\n      .catch(error => {\n        // console.log(\"dropin error: \", error);\n        setData({ ...data, error: error.message });\n      });\n  };\n\n  const handleAddress = e => {\n    setData({ ...data, address: e.target.value });\n  };\n  const showDropIn = () => (\n    <div onBlur={() => setData({ ...data, error: '' })} className=\"w-50 m-auto\">\n      {data.clientToken !== null && products.length > 0 ? (\n        <div>\n          <div className=\"form-group mb-3\">\n            <label className=\"text-muted\">Delivery Address:</label>\n            <textarea\n              className=\"form-control\"\n              placeholder=\"Enter here\"\n              value={data.address}\n              onChange={handleAddress}\n            />\n          </div>\n          <DropIn\n            options={{\n              authorization: data.clientToken,\n              paypal: {\n                flow: 'vault'\n              }\n            }}\n            onInstance={instance => (data.instance = instance)}\n          />\n          <button onClick={buy} className=\"btn btn-success btn-block pt-2\">\n            Pay\n          </button>\n        </div>\n      ) : null}\n    </div>\n  );\n\n  const showError = error => (\n    <div\n      className=\"alert alert-danger\"\n      style={{ display: error ? '' : 'none' }}\n    >\n      {error}\n    </div>\n  );\n\n  const showSuccess = success => (\n    <div\n      className=\"alert alert-info\"\n      style={{ display: success ? '' : 'none' }}\n    >\n      Thanks! Your payment was successful!\n    </div>\n  );\n\n  const showLoading = loading =>\n    loading && (\n      <div className=\"d-flex justify-content-center\">\n        <div className=\"spinner-border\" role=\"status\">\n          <span className=\"sr-only\">Loading...</span>\n        </div>\n      </div>\n    );\n\n  return (\n    <div className=\"container-fluid \">\n      <h2>Total: ${getTotal()}</h2>\n      {showLoading(data.loading)}\n      {showSuccess(data.success)}\n      {showError(data.error)}\n      {showCheckout()}\n    </div>\n  );\n};\n\nexport default Checkout;\n","import React, { useState, useEffect } from 'react';\nimport { getCart } from '../../helpers/cart';\nimport Card from '../Home/Card';\nimport { Link } from 'react-router-dom';\nimport Checkout from './Checkout';\n\nconst Cart = () => {\n  const [items, setItems] = useState([]);\n  const [render, setRender] = useState(false);\n\n  useEffect(() => {\n    setItems(getCart());\n  }, [render]);\n\n  const showItems = items => {\n    return (\n      <div>\n        <div className=\"row\">\n          {items.map(product => (\n            <div className=\"col-4\" key={product._id}>\n              <Card\n                product={product}\n                showAddToCartButton={false}\n                showRemoveProductButton={true}\n                cartUpdate={true}\n                setRender={setRender}\n                render={render}\n              />\n            </div>\n          ))}{' '}\n        </div>\n      </div>\n    );\n  };\n\n  const noItemsMessage = () => (\n    <div>\n      <h2>Your cart is currently empty.</h2>\n      <Link to=\"/shop\">Continue shopping</Link>\n    </div>\n  );\n\n  return (\n    <div className=\"text-center m-3\">\n      <div className=\"\">\n        <h1 className=\"title p-2\">Your cart</h1>\n        <Checkout products={items} setRender={setRender} render={render} />\n      </div>\n\n      <div className=\"mt-4\">\n        {items.length > 0 ? showItems(items) : noItemsMessage()}\n      </div>\n    </div>\n  );\n};\n\nexport default Cart;\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { isAuthenticated } from '../helpers/authFetch';\n\nconst PrivateRoute = ({ component: Component, ...rest }) => (\n  <Route\n    {...rest}\n    render={props =>\n      isAuthenticated() ? (\n        <Component {...props} />\n      ) : (\n        <Redirect\n          to={{\n            pathname: '/signin',\n            state: { from: props.location }\n          }}\n        />\n      )\n    }\n  />\n);\n\nexport default PrivateRoute;\n","import React, { useState, useEffect } from 'react';\nimport { isAuthenticated } from '../../helpers/authFetch';\nimport {\n  getUser,\n  updateUser,\n  updateUserLocalStorage\n} from '../../helpers/user';\n\nconst Profile = ({ match }) => {\n  const [values, setValues] = useState({\n    name: '',\n    email: '',\n    password: '',\n    error: '',\n    success: false\n  });\n\n  const { name, email, password, error, success } = values;\n  const { token } = isAuthenticated();\n  useEffect(() => {\n    getUser(match.params.userId, token).then(data => {\n      if (data.error) {\n        setValues({ ...values, error: true });\n      } else {\n        setValues({ ...values, name: data.name, email: data.email });\n      }\n    });\n    // eslint-disable-next-line\n  }, []);\n\n  const handleChange = name => event => {\n    // console.log(event.target.value);\n    setValues({ ...values, error: false, [name]: event.target.value });\n  };\n\n  const clickSubmit = event => {\n    event.preventDefault();\n    updateUser(match.params.userId, token, { name, email, password }).then(\n      data => {\n        if (data.error) {\n          alert(data.error);\n        } else {\n          updateUserLocalStorage(data, () => {\n            setValues({\n              ...values,\n              name: data.name,\n              email: data.email,\n              success: true\n            });\n          });\n        }\n      }\n    );\n  };\n\n  const showSuccess = success => (\n    <div\n      className=\"alert alert-info\"\n      style={{ display: success ? '' : 'none' }}\n    >\n      Your profile has been updated successfully!\n    </div>\n  );\n\n  const showError = error => (\n    <div\n      className=\"alert alert-danger\"\n      style={{ display: error ? '' : 'none' }}\n    >\n      Fail to update your profile\n    </div>\n  );\n\n  const updateForm = () => (\n    <form>\n      <div className=\"form-group\">\n        <label className=\"text-muted\">Name</label>\n        <input\n          onChange={handleChange('name')}\n          value={name}\n          type=\"text\"\n          className=\"form-control\"\n        />\n      </div>\n\n      <div className=\"form-group\">\n        <label className=\"text-muted\">Email</label>\n        <input\n          defaultValue={email}\n          type=\"email\"\n          className=\"form-control\"\n          disabled\n        />\n      </div>\n\n      <div className=\"form-group\">\n        <label className=\"text-muted\">Password</label>\n        <input\n          onChange={handleChange('password')}\n          value={password}\n          type=\"password\"\n          className=\"form-control\"\n        />\n      </div>\n\n      <div>\n        <button className=\"btn btn-primary float-right\" onClick={clickSubmit}>\n          Update\n        </button>\n      </div>\n    </form>\n  );\n\n  return (\n    <div className=\"container w-50\">\n      <h1 className=\"title m-3 text-center\">Profile update</h1>\n      {showSuccess(success)}\n      {showError(error)}\n      {updateForm()}\n    </div>\n  );\n};\n\nexport default Profile;\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { isAuthenticated } from '../helpers/authFetch';\n\nconst AdminRoute = ({ component: Component, ...rest }) => (\n  <Route\n    {...rest}\n    render={props =>\n      isAuthenticated() && isAuthenticated().user.role === 1 ? (\n        <Component {...props} />\n      ) : (\n        <Redirect\n          to={{\n            pathname: '/',\n            state: { from: props.location }\n          }}\n        />\n      )\n    }\n  />\n);\n\nexport default AdminRoute;\n","import React from 'react';\nimport { isAuthenticated } from '../../helpers/authFetch';\nimport { Link } from 'react-router-dom';\n\nconst AdminDashboard = () => {\n  const {\n    user: { name, email, role, _id }\n  } = isAuthenticated();\n\n  const adminLinks = () => {\n    return (\n      <div className=\"card\">\n        <h4 className=\"card-header\">Admin Links</h4>\n        <ul className=\"list-group\">\n          <li className=\"list-group-item\">\n            <Link className=\"nav-link\" to={`/profile/${_id}`}>\n              Update Profile\n            </Link>\n          </li>\n          <li className=\"list-group-item\">\n            <Link className=\"nav-link\" to=\"/create/category\">\n              Create Category\n            </Link>\n          </li>\n          <li className=\"list-group-item\">\n            <Link className=\"nav-link\" to=\"/create/product\">\n              Create Product\n            </Link>\n          </li>\n          <li className=\"list-group-item\">\n            <Link className=\"nav-link\" to=\"/admin/categories\">\n              Manage Categories\n            </Link>\n          </li>\n\n          <li className=\"list-group-item\">\n            <Link className=\"nav-link\" to=\"/admin/products\">\n              Manage Products\n            </Link>\n          </li>\n          <li className=\"list-group-item\">\n            <Link className=\"nav-link\" to=\"/admin/orders\">\n              View Orders\n            </Link>\n          </li>\n        </ul>\n      </div>\n    );\n  };\n\n  const adminInfo = () => {\n    return (\n      <div className=\"card mb-5\">\n        <h3 className=\"card-header\">Profile</h3>\n        <ul className=\"list-group\">\n          <li className=\"list-group-item\">Name:&nbsp;{name}</li>\n          <li className=\"list-group-item\">Email:&nbsp;{email}</li>\n          <li className=\"list-group-item\">\n            Role:&nbsp;{role === 1 ? 'Admin' : 'Registered User'}\n          </li>\n        </ul>\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"row p-5 card-container\">\n      <div className=\"col-4\">{adminLinks()}</div>\n      <div className=\"col-8\">{adminInfo()}</div>\n    </div>\n  );\n};\n\nexport default AdminDashboard;\n","import React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { createCategory } from '../../helpers/adminFetch';\nimport { isAuthenticated } from '../../helpers/authFetch';\n\nconst CreateCategory = () => {\n  const [name, setName] = useState('');\n  const [error, setError] = useState(false);\n  const [success, setSuccess] = useState(false);\n\n  const { user, token } = isAuthenticated();\n\n  const handleChange = e => {\n    setError('');\n    setName(e.target.value);\n  };\n\n  const clickSubmit = e => {\n    e.preventDefault();\n    setError('');\n    setSuccess(false);\n    //request an API call\n    createCategory(user._id, token, { name }).then(data => {\n      if (data.error) {\n        setError(data.error);\n      } else {\n        setError('');\n        setSuccess(true);\n      }\n    });\n  };\n\n  const newCategoryForm = () => (\n    <form onSubmit={clickSubmit}>\n      <div className=\"form-group\">\n        <label htmlFor=\"\" className=\"text-muted\">\n          Category Name\n        </label>\n        <input\n          type=\"text\"\n          className=\"form-control\"\n          autoFocus\n          value={name}\n          onChange={handleChange}\n          required\n        />\n      </div>\n      <Link\n        to=\"/admin/dashboard\"\n        className=\"btn btn-outline-warning float-left\"\n      >\n        Back\n      </Link>\n      <button className=\"btn btn-outline-primary float-right\">Create</button>\n    </form>\n  );\n\n  const showSuccess = () => {\n    if (success)\n      return <h3 className=\"text-success\">{name} is created successfully!</h3>;\n  };\n\n  const showError = () => {\n    if (error) return <h3 className=\"text-danger\">{error}</h3>;\n  };\n\n  return (\n    <div className=\"container w-50\">\n      <h1 className=\"title m-3 text-center\">New Category</h1>\n      {showError()}\n      {showSuccess()}\n      {newCategoryForm()}\n    </div>\n  );\n};\n\nexport default CreateCategory;\n","import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { createProduct, getCategories } from '../../helpers/adminFetch';\nimport { isAuthenticated } from '../../helpers/authFetch';\n\nconst CreateProduct = () => {\n  const [values, setValues] = useState({\n    name: '',\n    description: '',\n    price: '',\n    categories: [],\n    category: '',\n    shipping: '',\n    quantity: '',\n    photo: '',\n    loading: false,\n    error: '',\n    createdProduct: '',\n\n    formData: ''\n  });\n\n  const { user, token } = isAuthenticated();\n  const {\n    name,\n    description,\n    price,\n    categories,\n    quantity,\n    loading,\n    error,\n    createdProduct,\n    formData\n  } = values;\n\n  // load categories and set form data\n  const init = () => {\n    getCategories().then(data => {\n      if (data.error) {\n        setValues({ ...values, error: data.error });\n      } else {\n        setValues({\n          ...values,\n          categories: data,\n          formData: new FormData()\n        });\n      }\n    });\n  };\n\n  useEffect(() => {\n    init();\n    // eslint-disable-next-line\n  }, []);\n\n  const handleChange = name => event => {\n    const value = name === 'photo' ? event.target.files[0] : event.target.value;\n    formData.set(name, value);\n    setValues({ ...values, [name]: value });\n  };\n\n  const clickSubmit = event => {\n    event.preventDefault();\n    setValues({ ...values, error: '', loading: true });\n\n    createProduct(user._id, token, formData).then(data => {\n      if (data.error) {\n        setValues({ ...values, error: data.error });\n      } else {\n        setValues({\n          ...values,\n          name: '',\n          description: '',\n          photo: '',\n          price: '',\n          quantity: '',\n          loading: false,\n          createdProduct: data.name\n        });\n      }\n    });\n  };\n\n  const newPostForm = () => (\n    <form className=\"mb-3\" onSubmit={clickSubmit}>\n      <h4>Post Photo</h4>\n      <div className=\"form-group\">\n        <label className=\"btn btn-secondary\">\n          <input\n            onChange={handleChange('photo')}\n            type=\"file\"\n            name=\"photo\"\n            accept=\"image/*\"\n          />\n        </label>\n      </div>\n\n      <div className=\"form-group\">\n        <label className=\"text-muted\">Name</label>\n        <input\n          onChange={handleChange('name')}\n          type=\"text\"\n          className=\"form-control\"\n          value={name}\n        />\n      </div>\n\n      <div className=\"form-group\">\n        <label className=\"text-muted\">Description</label>\n        <textarea\n          onChange={handleChange('description')}\n          className=\"form-control\"\n          value={description}\n        />\n      </div>\n\n      <div className=\"form-group\">\n        <label className=\"text-muted\">Price</label>\n        <input\n          onChange={handleChange('price')}\n          type=\"number\"\n          className=\"form-control\"\n          value={price}\n        />\n      </div>\n\n      <div className=\"form-group\">\n        <label className=\"text-muted\">Category</label>\n        <select onChange={handleChange('category')} className=\"form-control\">\n          <option>Please select</option>\n          {categories &&\n            categories.map((c, i) => (\n              <option key={i} value={c._id}>\n                {c.name}\n              </option>\n            ))}\n        </select>\n      </div>\n\n      <div className=\"form-group\">\n        <label className=\"text-muted\">Shipping</label>\n        <select onChange={handleChange('shipping')} className=\"form-control\">\n          <option>Please select</option>\n          <option value=\"0\">No</option>\n          <option value=\"1\">Yes</option>\n        </select>\n      </div>\n\n      <div className=\"form-group\">\n        <label className=\"text-muted\">Quantity</label>\n        <input\n          onChange={handleChange('quantity')}\n          type=\"number\"\n          className=\"form-control\"\n          value={quantity}\n        />\n      </div>\n\n      <Link\n        to=\"/admin/dashboard\"\n        className=\"btn btn-outline-warning float-left\"\n      >\n        Back\n      </Link>\n      <button className=\"btn btn-outline-primary float-right mb-3\">\n        Create\n      </button>\n    </form>\n  );\n\n  const showError = () => (\n    <div\n      className=\"alert alert-danger\"\n      style={{ display: error ? '' : 'none' }}\n    >\n      {error}\n    </div>\n  );\n\n  const showSuccess = () => (\n    <div\n      className=\"alert alert-info\"\n      style={{ display: createdProduct ? '' : 'none' }}\n    >\n      <h2>{`${createdProduct}`} is created!</h2>\n    </div>\n  );\n\n  const showLoading = () =>\n    loading && (\n      <div className=\"d-flex justify-content-center\">\n        <div className=\"spinner-border\" role=\"status\">\n          <span className=\"sr-only\">Loading...</span>\n        </div>\n      </div>\n    );\n\n  return (\n    <div className=\"container w-50\">\n      <h1 className=\"title p-2 text-center\">New Product</h1>\n      {showLoading()}\n      {showSuccess()}\n      {showError()}\n      {newPostForm()}\n    </div>\n  );\n};\n\nexport default CreateProduct;\n","import React, { useState, useEffect } from 'react';\nimport moment from 'moment';\nimport {\n  getOrders,\n  getStatusValues,\n  updateOrderStatus\n} from '../../helpers/adminFetch';\nimport { isAuthenticated } from '../../helpers/authFetch';\n\nconst Orders = () => {\n  const [orders, setOrders] = useState([]);\n  const [statusValues, setStatusValues] = useState([]);\n  const { user, token } = isAuthenticated();\n\n  const loadOrders = () => {\n    getOrders(user._id, token).then(data => {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        // console.log(data);\n        setOrders(data);\n      }\n    });\n  };\n\n  useEffect(() => {\n    //Get all orders\n    loadOrders();\n\n    //Get order's status\n    getStatusValues(user._id, token).then(data => {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        // console.log(data);\n        setStatusValues(data);\n      }\n    });\n    // eslint-disable-next-line\n  }, []);\n\n  const showInput = (key, value) => (\n    <div className=\"input-group mb-2 mr-sm-2\">\n      <div className=\"input-group-prepend\">\n        <div className=\"input-group-text\">{key}</div>\n      </div>\n      <input type=\"text\" value={value} className=\"form-control\" readOnly />\n    </div>\n  );\n\n  const handleStatusChange = (e, orderId) => {\n    updateOrderStatus(user._id, token, orderId, e.target.value).then(res => {\n      if (res.error) {\n        console.log('Status update failed');\n      } else {\n        loadOrders();\n      }\n    });\n  };\n  const showStatus = order => (\n    <div className=\"form-group\">\n      <h4 className=\"mark mb-2\">Status: {order.status}</h4>\n      <select\n        className=\"form-control\"\n        onChange={e => handleStatusChange(e, order._id)}\n      >\n        <option>Update Status</option>\n        {statusValues.map((status, i) => (\n          <option key={i} value={status}>\n            {status}\n          </option>\n        ))}\n      </select>\n    </div>\n  );\n\n  return (\n    <div>\n      <h1 className=\"text-center mt-2 title\">Total orders: {orders.length}</h1>\n      {orders.map(o => {\n        return (\n          <div className=\"row m-2\" key={o._id}>\n            <div className=\"col-6\">\n              <h4 className=\"mb-3 text-primary\">\n                <span className=\"\">Order ID: {o._id}</span>\n              </h4>\n\n              <ul className=\"list-group mb-2\">\n                <li className=\"list-group-item text-danger\">{showStatus(o)}</li>\n                <li className=\"list-group-item\">\n                  Transaction ID: {o.transaction_id}\n                </li>\n                <li className=\"list-group-item\">Amount: ${o.amount}</li>\n                <li className=\"list-group-item\">Ordered by: {o.user.name}</li>\n                <li className=\"list-group-item\">\n                  Ordered on: {moment(o.createdAt).fromNow()}\n                </li>\n                <li className=\"list-group-item\">\n                  Delivery address: {o.address}\n                </li>\n              </ul>\n            </div>\n            <div className=\"col-6 m-auto\">\n              <h3 className=\"mt-4 mb-4 font-italic\">\n                Total products in the order: {o.products.length}\n              </h3>\n              {o.products.map(p => (\n                <div key={p._id}>\n                  {showInput('Name', p.name)}\n                  {showInput('Price', `$${p.price}`)}\n                  {showInput('Count', p.count)}\n                  {showInput('ID', p._id)}\n                </div>\n              ))}\n            </div>\n            <hr style={{ borderBottom: '3px solid indigo', width: '50%' }} />\n          </div>\n        );\n      })}\n    </div>\n  );\n};\n\nexport default Orders;\n","import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { getProducts, deleteProduct } from '../../helpers/adminFetch';\nimport { isAuthenticated } from '../../helpers/authFetch';\n\nconst ManageProducts = () => {\n  const [products, setProducts] = useState([]);\n\n  const { user, token } = isAuthenticated();\n\n  const loadProducts = () =>\n    getProducts().then(data => {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        setProducts(data);\n      }\n    });\n\n  useEffect(() => {\n    loadProducts();\n    // eslint-disable-next-line\n  }, []);\n\n  const deleteProductButton = productId => {\n    deleteProduct(productId, user._id, token).then(data => {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        loadProducts();\n      }\n    });\n  };\n\n  return (\n    <div className=\"container w-50\">\n      <h1 className=\"title m-3 text-center\">Manage Products</h1>\n      <h2>Total products: {products.length}</h2>\n      <div className=\"row\">\n        <div className=\"col-12\">\n          <ul className=\"list-group\">\n            {products.map(p => (\n              <li className=\"list-group-item\" key={p._id}>\n                <strong className=\"float-left\">{p.name}</strong>\n                <div className=\"float-right\">\n                  <Link to={`/admin/product/update/${p._id}`}>\n                    <span className=\"badge badge-warning badge-pill m-2\">\n                      Update\n                    </span>\n                  </Link>\n\n                  <Link to={`/admin/products`}>\n                    <span\n                      className=\"badge badge-danger badge-pill\"\n                      onClick={() => deleteProductButton(p._id)}\n                    >\n                      Delete\n                    </span>\n                  </Link>\n                </div>\n              </li>\n            ))}\n          </ul>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ManageProducts;\n","import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { getCategories, deleteCategory } from '../../helpers/adminFetch';\nimport { isAuthenticated } from '../../helpers/authFetch';\n\nconst ManageCategories = () => {\n  const [categories, setCategories] = useState([]);\n\n  const { user, token } = isAuthenticated();\n\n  const loadCategories = () =>\n    getCategories().then(data => {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        setCategories(data);\n      }\n    });\n\n  useEffect(() => {\n    loadCategories();\n    // eslint-disable-next-line\n  }, []);\n\n  const deleteCategoryButton = categoryId => {\n    deleteCategory(user._id, token, categoryId).then(data => {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        loadCategories();\n      }\n    });\n  };\n\n  return (\n    <div className=\"container w-50\">\n      <h1 className=\"title m-3 text-center\">Manage Categories</h1>\n      <h2>Total categories: {categories.length}</h2>\n      <div className=\"row\">\n        <div className=\"col-12\">\n          <ul className=\"list-group\">\n            {categories.map(c => (\n              <li className=\"list-group-item\" key={c._id}>\n                <strong className=\"float-left\">{c.name}</strong>\n                <div className=\"float-right\">\n                  <Link to={`/admin/category/update/${c._id}`}>\n                    <span className=\"badge badge-warning badge-pill m-2\">\n                      Update\n                    </span>\n                  </Link>\n\n                  <Link to={`/admin/categories`}>\n                    <span\n                      className=\"badge badge-danger badge-pill\"\n                      onClick={() => deleteCategoryButton(c._id)}\n                    >\n                      Delete\n                    </span>\n                  </Link>\n                </div>\n              </li>\n            ))}\n          </ul>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ManageCategories;\n","import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { updateCategory, getCategory } from '../../helpers/adminFetch';\nimport { isAuthenticated } from '../../helpers/authFetch';\n\nconst UpdateCategory = ({ match }) => {\n  const [name, setName] = useState('');\n  const [error, setError] = useState(false);\n  const [success, setSuccess] = useState(false);\n\n  const { user, token } = isAuthenticated();\n\n  useEffect(() => {\n    getCategory(match.params.categoryId).then(data => {\n      if (data.error) {\n        console.log(data.error);\n        setError(true);\n      } else {\n        setName(data.name);\n      }\n    });\n    // eslint-disable-next-line\n  }, []);\n\n  const handleChange = e => {\n    setError('');\n    setName(e.target.value);\n  };\n\n  const clickSubmit = e => {\n    e.preventDefault();\n    setError('');\n    setSuccess(false);\n    //request an API call\n    updateCategory(user._id, token, match.params.categoryId, { name }).then(\n      data => {\n        if (data.error) {\n          setError(data.error);\n        } else {\n          setError('');\n          setSuccess(true);\n        }\n      }\n    );\n  };\n\n  const newCategoryForm = () => (\n    <form onSubmit={clickSubmit}>\n      <div className=\"form-group\">\n        <label htmlFor=\"\" className=\"text-muted\">\n          Category Name\n        </label>\n        <input\n          type=\"text\"\n          className=\"form-control\"\n          autoFocus\n          value={name}\n          onChange={handleChange}\n          required\n        />\n      </div>\n      <Link\n        to=\"/admin/dashboard\"\n        className=\"btn btn-outline-warning float-left\"\n      >\n        Back\n      </Link>\n      <button className=\"btn btn-outline-primary float-right\">Update</button>\n    </form>\n  );\n\n  const showSuccess = () => {\n    if (success)\n      return <h3 className=\"text-success\">{name} is updated successfully!</h3>;\n  };\n\n  const showError = () => {\n    if (error) return <h3 className=\"text-danger\">{error}</h3>;\n  };\n\n  return (\n    <div className=\"container w-50\">\n      <h1 className=\"title m-3 text-center\">Update Category</h1>\n      {showError()}\n      {showSuccess()}\n      {newCategoryForm()}\n    </div>\n  );\n};\n\nexport default UpdateCategory;\n","import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport {\n  getCategories,\n  updateProduct,\n  getProduct\n} from '../../helpers/adminFetch';\nimport { isAuthenticated } from '../../helpers/authFetch';\n\nconst UpdateProduct = ({ match }) => {\n  const [values, setValues] = useState({\n    name: '',\n    description: '',\n    price: '',\n    categories: [],\n    category: '',\n    shipping: '',\n    quantity: '',\n    photo: '',\n    loading: false,\n    error: '',\n    updatedProduct: '',\n\n    formData: ''\n  });\n\n  const { user, token } = isAuthenticated();\n  const {\n    name,\n    description,\n    price,\n    categories,\n    quantity,\n    loading,\n    error,\n    updatedProduct,\n    formData\n  } = values;\n\n  const loadProduct = productId => {\n    getProduct(productId).then(data => {\n      if (data.error) {\n        setValues({ ...values, error: data.error });\n      } else {\n        // populate the state\n        setValues({\n          ...values,\n          name: data.name,\n          description: data.description,\n          price: data.price,\n          category: data.category._id,\n          shipping: data.shipping,\n          quantity: data.quantity,\n          formData: new FormData()\n        });\n        // load categories\n        initCategories();\n      }\n    });\n  };\n\n  // load categories and set form data\n  const initCategories = () => {\n    getCategories().then(data => {\n      if (data.error) {\n        setValues({ ...values, error: data.error });\n      } else {\n        setValues({\n          categories: data,\n          formData: new FormData()\n        });\n      }\n    });\n  };\n\n  useEffect(() => {\n    loadProduct(match.params.productId);\n    // eslint-disable-next-line\n  }, []);\n\n  const handleChange = name => event => {\n    const value = name === 'photo' ? event.target.files[0] : event.target.value;\n    formData.set(name, value);\n    setValues({ ...values, [name]: value });\n  };\n\n  const clickSubmit = event => {\n    event.preventDefault();\n    setValues({ ...values, error: '', loading: true });\n\n    updateProduct(user._id, token, match.params.productId, formData).then(\n      data => {\n        if (data.error) {\n          setValues({ ...values, error: data.error });\n        } else {\n          setValues({\n            ...values,\n            name: '',\n            description: '',\n            photo: '',\n            price: '',\n            quantity: '',\n            loading: false,\n            updatedProduct: data.name\n          });\n        }\n      }\n    );\n  };\n\n  const newPostForm = () => (\n    <form className=\"mb-3\" onSubmit={clickSubmit}>\n      <h4>Post Photo</h4>\n      <div className=\"form-group\">\n        <label className=\"btn btn-secondary\">\n          <input\n            onChange={handleChange('photo')}\n            type=\"file\"\n            name=\"photo\"\n            accept=\"image/*\"\n          />\n        </label>\n      </div>\n\n      <div className=\"form-group\">\n        <label className=\"text-muted\">Name</label>\n        <input\n          onChange={handleChange('name')}\n          type=\"text\"\n          className=\"form-control\"\n          value={name}\n        />\n      </div>\n\n      <div className=\"form-group\">\n        <label className=\"text-muted\">Description</label>\n        <textarea\n          onChange={handleChange('description')}\n          className=\"form-control\"\n          value={description}\n        />\n      </div>\n\n      <div className=\"form-group\">\n        <label className=\"text-muted\">Price</label>\n        <input\n          onChange={handleChange('price')}\n          type=\"number\"\n          className=\"form-control\"\n          value={price}\n        />\n      </div>\n\n      <div className=\"form-group\">\n        <label className=\"text-muted\">Category</label>\n        <select onChange={handleChange('category')} className=\"form-control\">\n          <option>Please select</option>\n          {categories &&\n            categories.map((c, i) => (\n              <option key={i} value={c._id}>\n                {c.name}\n              </option>\n            ))}\n        </select>\n      </div>\n\n      <div className=\"form-group\">\n        <label className=\"text-muted\">Shipping</label>\n        <select onChange={handleChange('shipping')} className=\"form-control\">\n          <option>Please select</option>\n          <option value=\"0\">No</option>\n          <option value=\"1\">Yes</option>\n        </select>\n      </div>\n\n      <div className=\"form-group\">\n        <label className=\"text-muted\">Quantity</label>\n        <input\n          onChange={handleChange('quantity')}\n          type=\"number\"\n          className=\"form-control\"\n          value={quantity}\n        />\n      </div>\n\n      <Link to=\"/admin/products\" className=\"btn btn-outline-warning float-left\">\n        Back\n      </Link>\n      <button className=\"btn btn-outline-primary float-right mb-3\">\n        Update\n      </button>\n    </form>\n  );\n\n  const showError = () => (\n    <div\n      className=\"alert alert-danger\"\n      style={{ display: error ? '' : 'none' }}\n    >\n      {error}\n    </div>\n  );\n\n  const showSuccess = () => (\n    <div\n      className=\"alert alert-info\"\n      style={{ display: updatedProduct ? '' : 'none' }}\n    >\n      <h2>{`${updatedProduct}`} is updated successfully!</h2>\n    </div>\n  );\n\n  const showLoading = () =>\n    loading && (\n      <div className=\"d-flex justify-content-center\">\n        <div className=\"spinner-border\" role=\"status\">\n          <span className=\"sr-only\">Loading...</span>\n        </div>\n      </div>\n    );\n\n  return (\n    <div className=\"container w-50\">\n      <h1 className=\"title p-2 text-center\">Update Product</h1>\n      {showLoading()}\n      {showSuccess()}\n      {showError()}\n      {newPostForm()}\n    </div>\n  );\n};\n\nexport default UpdateProduct;\n","import React, { useState } from 'react';\nimport { forgotPasswordFetch } from '../../helpers/authFetch';\n\nconst ForgotPage = () => {\n  const [values, setValues] = useState({\n    email: '',\n    error: '',\n    success: false\n  });\n\n  const { email, error, success } = values;\n\n  const handleChange = event => {\n    setValues({ ...values, [event.target.name]: event.target.value });\n  };\n\n  const clickSubmit = event => {\n    event.preventDefault();\n    setValues({ ...values, error: false });\n    forgotPasswordFetch({ email }).then(data => {\n      if (data.error) {\n        setValues({ ...values, error: data.error });\n      } else {\n        setValues({ ...values, error: false, success: true });\n      }\n    });\n  };\n\n  const forgotPasswordForm = () => (\n    <form>\n      <div className=\"form-group\">\n        <input\n          onChange={handleChange}\n          name=\"email\"\n          value={email}\n          type=\"email\"\n          placeholder=\"Email\"\n          className=\"form-control\"\n        />\n      </div>\n      <div>\n        <button className=\"btn btn-primary float-right\" onClick={clickSubmit}>\n          Submit\n        </button>\n      </div>\n    </form>\n  );\n\n  const showError = () => (\n    <div\n      className=\"alert alert-danger\"\n      style={{ display: error ? '' : 'none' }}\n    >\n      {error}\n    </div>\n  );\n\n  const showSuccess = () => (\n    <div\n      className=\"alert alert-info\"\n      style={{ display: success ? '' : 'none' }}\n    >\n      We sent a reset password link to your email!\n    </div>\n  );\n\n  return (\n    <div className=\"container w-50\">\n      <h1 className=\"title pt-3 pb-3\">Forgot Password</h1>\n      {showError()}\n      {showSuccess()}\n      {forgotPasswordForm()}\n    </div>\n  );\n};\n\nexport default ForgotPage;\n","import React, { useState, useEffect } from 'react';\nimport jwt from 'jsonwebtoken';\nimport { resetPasswordFetch } from '../../helpers/authFetch';\n\nconst ResetPage = ({ match }) => {\n  const [values, setValues] = useState({\n    name: '',\n    token: '',\n    newPassword: '',\n    error: '',\n    success: false\n  });\n\n  useEffect(() => {\n    let token = match.params.token;\n    let { name } = jwt.decode(token);\n    if (token) {\n      setValues({ ...values, name, token });\n    }\n    // eslint-disable-next-line\n  }, []);\n\n  const { name, token, newPassword, error, success } = values;\n\n  const handleChange = event => {\n    setValues({ ...values, newPassword: event.target.value });\n  };\n\n  const clickSubmit = event => {\n    event.preventDefault();\n    setValues({ ...values, error: false });\n    resetPasswordFetch({ newPassword, resetPasswordLink: token }).then(data => {\n      if (data.error) {\n        setValues({ ...values, error: data.error });\n      } else {\n        setValues({ newPassword: '', error: false, success: true });\n      }\n    });\n  };\n\n  const passwordResetForm = () => (\n    <form>\n      <div className=\"form-group\">\n        <label className=\"text-muted\">New Password</label>\n        <input\n          onChange={handleChange}\n          name=\"password\"\n          value={newPassword}\n          type=\"password\"\n          className=\"form-control\"\n          required\n        />\n      </div>\n\n      <div>\n        <button className=\"btn btn-primary float-right\" onClick={clickSubmit}>\n          Submit\n        </button>\n      </div>\n    </form>\n  );\n\n  const showError = () => (\n    <div\n      className=\"alert alert-danger\"\n      style={{ display: error ? '' : 'none' }}\n    >\n      {error}\n    </div>\n  );\n\n  const showSuccess = () => (\n    <div\n      className=\"alert alert-info\"\n      style={{ display: success ? '' : 'none' }}\n    >\n      Your password has been updated!\n    </div>\n  );\n\n  return (\n    <div className=\"container w-50\">\n      <div className=\"p-3 text-center\">\n        <h1 className=\"title\">Welcome back! {name}</h1>\n      </div>\n      {showError()}\n      {showSuccess()}\n      {passwordResetForm()}\n    </div>\n  );\n};\n\nexport default ResetPage;\n","import React from 'react';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\n\n//Components\nimport Home from './components/Home/Home';\nimport Register from './components/Register/Register';\nimport SignIn from './components/SignIn/SignIn';\nimport Navbar from './components/Navbar/Navbar';\nimport UserDashboard from './components/UserDashboard/UserDashboard';\nimport About from './components/About/About';\nimport Shop from './components/Shop/Shop';\nimport Search from './components/Search/Search';\nimport Product from './components/Product/Product';\nimport Cart from './components/Cart/Cart';\n\n//PrivateRoutes folder\nimport PrivateRoute from './PrivateRoutes/PrivateRoute';\nimport Profile from './components/UserDashboard/Profile';\n\n//AdminDashboard folder\nimport AdminRoute from './PrivateRoutes/AdminRoute';\nimport AdminDashboard from './components/AdminDashboard/AdminDashboard';\nimport CreateCategory from './components/AdminDashboard/CreateCategory';\nimport CreateProduct from './components/AdminDashboard/CreateProduct';\nimport Orders from './components/AdminDashboard/Order';\nimport ManageProducts from './components/AdminDashboard/ManageProducts';\nimport ManageCategories from './components/AdminDashboard/ManageCategories';\nimport UpdateCategory from './components/AdminDashboard/UpdateCategory';\nimport UpdateProduct from './components/AdminDashboard/UpdateProduct';\nimport ForgotPage from './components/ForgotPage/ForgotPage';\nimport ResetPage from './components/ResetPage/ResetPage';\n\nconst App = () => {\n  return (\n    <>\n      <Router>\n        <Navbar />\n        <Switch>\n          {/* User Routes */}\n          <Route exact path=\"/\" component={Home} />\n          <Route exact path=\"/register\" component={Register} />\n          <Route exact path=\"/signin\" component={SignIn} />\n          <Route exact path=\"/shop\" component={Shop} />\n          <Route exact path=\"/about\" component={About} />\n          <Route exact path=\"/search\" component={Search} />\n          <Route exact path=\"/product/:productId\" component={Product} />\n          <Route exact path=\"/cart\" component={Cart} />\n          <Route exact path=\"/auth/password/forgot\" component={ForgotPage} />\n          <Route\n            exact\n            path=\"/auth/password/reset/:token\"\n            component={ResetPage}\n          />\n          <PrivateRoute\n            exact\n            path=\"/user/dashboard\"\n            component={UserDashboard}\n          />\n          <PrivateRoute exact path=\"/profile/:userId\" component={Profile} />\n          {/* Admin Routes */}\n          <AdminRoute\n            exact\n            path=\"/admin/dashboard\"\n            component={AdminDashboard}\n          />\n          <AdminRoute\n            exact\n            path=\"/create/category\"\n            component={CreateCategory}\n          />\n          <AdminRoute exact path=\"/create/product\" component={CreateProduct} />\n          <AdminRoute exact path=\"/admin/orders\" component={Orders} />\n          <AdminRoute exact path=\"/admin/products\" component={ManageProducts} />\n          <AdminRoute\n            exact\n            path=\"/admin/product/update/:productId\"\n            component={UpdateProduct}\n          />\n          <AdminRoute\n            exact\n            path=\"/admin/categories\"\n            component={ManageCategories}\n          />\n          <AdminRoute\n            exact\n            path=\"/admin/category/update/:categoryId\"\n            component={UpdateCategory}\n          />\n        </Switch>\n      </Router>\n    </>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}