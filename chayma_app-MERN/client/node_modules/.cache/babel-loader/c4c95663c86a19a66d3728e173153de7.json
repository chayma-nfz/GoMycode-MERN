{"ast":null,"code":"import _defineProperty from\"C:\\\\Users\\\\Admin\\\\Desktop\\\\Nouveau dossier (2)\\\\ECommerce-MERN\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:\\\\Users\\\\Admin\\\\Desktop\\\\Nouveau dossier (2)\\\\ECommerce-MERN\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:\\\\Users\\\\Admin\\\\Desktop\\\\Nouveau dossier (2)\\\\ECommerce-MERN\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{Link}from'react-router-dom';import{signup}from'../../helpers/authFetch';var Register=function Register(){var _useState=useState({name:'',email:'',password:'',confirmPassword:'',error:'',success:false}),_useState2=_slicedToArray(_useState,2),values=_useState2[0],setValues=_useState2[1];var name=values.name,email=values.email,password=values.password,confirmPassword=values.confirmPassword,success=values.success,error=values.error;var handleChange=function handleChange(name){return function(event){setValues(_objectSpread({},values,_defineProperty({error:false},name,event.target.value)));};};var clickSubmit=function clickSubmit(event){event.preventDefault();if(password!==confirmPassword){setValues(_objectSpread({},values,{error:'Password do not match'}));}else{setValues(_objectSpread({},values,{error:false}));signup({name:name,email:email,password:password}).then(function(data){if(data.error){setValues(_objectSpread({},values,{error:data.error,success:false}));}else{setValues(_objectSpread({},values,{name:'',email:'',password:'',confirmPassword:'',error:'',success:true}));}});}};var signUpForm=function signUpForm(){return React.createElement(\"form\",null,React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"label\",{className:\"text-muted\"},\"Name\"),React.createElement(\"input\",{onChange:handleChange('name'),type:\"text\",className:\"form-control\",value:name})),React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"label\",{className:\"text-muted\"},\"Email\"),React.createElement(\"input\",{onChange:handleChange('email'),type:\"email\",className:\"form-control\",value:email})),React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"label\",{className:\"text-muted\"},\"Password\"),React.createElement(\"input\",{onChange:handleChange('password'),type:\"password\",className:\"form-control\",value:password})),React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"label\",{className:\"text-muted\"},\"Confirm Password\"),React.createElement(\"input\",{onChange:handleChange('confirmPassword'),type:\"password\",className:\"form-control\",value:confirmPassword})),React.createElement(\"button\",{onClick:clickSubmit,className:\"btn btn-primary float-right\"},\"Submit\"));};var showError=function showError(){return React.createElement(\"div\",{className:\"alert alert-danger\",style:{display:error?'':'none'}},error);};var showSuccess=function showSuccess(){return React.createElement(\"div\",{className:\"alert alert-info\",style:{display:success?'':'none'}},\"New account is created. Please \",React.createElement(Link,{to:\"/signin\"},\"Sign In\"));};return React.createElement(\"div\",{className:\"container w-50\"},React.createElement(\"h1\",{className:\"title\"},\"Register\"),showSuccess(),showError(),signUpForm());};export default Register;","map":{"version":3,"sources":["C:/Users/Admin/Desktop/Nouveau dossier (2)/ECommerce-MERN/client/src/components/Register/Register.js"],"names":["React","useState","Link","signup","Register","name","email","password","confirmPassword","error","success","values","setValues","handleChange","event","target","value","clickSubmit","preventDefault","then","data","signUpForm","showError","display","showSuccess"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { signup } from '../../helpers/authFetch';\n\nconst Register = () => {\n  const [values, setValues] = useState({\n    name: '',\n    email: '',\n    password: '',\n    confirmPassword: '',\n    error: '',\n    success: false\n  });\n\n  const { name, email, password, confirmPassword, success, error } = values;\n\n  const handleChange = name => event => {\n    setValues({ ...values, error: false, [name]: event.target.value });\n  };\n\n  const clickSubmit = event => {\n    event.preventDefault();\n    if (password !== confirmPassword) {\n      setValues({ ...values, error: 'Password do not match' });\n    } else {\n      setValues({ ...values, error: false });\n      signup({ name, email, password }).then(data => {\n        if (data.error) {\n          setValues({ ...values, error: data.error, success: false });\n        } else {\n          setValues({\n            ...values,\n            name: '',\n            email: '',\n            password: '',\n            confirmPassword: '',\n            error: '',\n            success: true\n          });\n        }\n      });\n    }\n  };\n\n  const signUpForm = () => (\n    <form>\n      <div className=\"form-group\">\n        <label className=\"text-muted\">Name</label>\n        <input\n          onChange={handleChange('name')}\n          type=\"text\"\n          className=\"form-control\"\n          value={name}\n        />\n      </div>\n\n      <div className=\"form-group\">\n        <label className=\"text-muted\">Email</label>\n        <input\n          onChange={handleChange('email')}\n          type=\"email\"\n          className=\"form-control\"\n          value={email}\n        />\n      </div>\n\n      <div className=\"form-group\">\n        <label className=\"text-muted\">Password</label>\n        <input\n          onChange={handleChange('password')}\n          type=\"password\"\n          className=\"form-control\"\n          value={password}\n        />\n      </div>\n\n      <div className=\"form-group\">\n        <label className=\"text-muted\">Confirm Password</label>\n        <input\n          onChange={handleChange('confirmPassword')}\n          type=\"password\"\n          className=\"form-control\"\n          value={confirmPassword}\n        />\n      </div>\n\n      <button onClick={clickSubmit} className=\"btn btn-primary float-right\">\n        Submit\n      </button>\n    </form>\n  );\n\n  const showError = () => (\n    <div\n      className=\"alert alert-danger\"\n      style={{ display: error ? '' : 'none' }}\n    >\n      {error}\n    </div>\n  );\n\n  const showSuccess = () => (\n    <div\n      className=\"alert alert-info\"\n      style={{ display: success ? '' : 'none' }}\n    >\n      New account is created. Please <Link to=\"/signin\">Sign In</Link>\n    </div>\n  );\n\n  return (\n    <div className=\"container w-50\">\n      <h1 className=\"title\">Register</h1>\n      {showSuccess()}\n      {showError()}\n      {signUpForm()}\n    </div>\n  );\n};\n\nexport default Register;\n"]},"metadata":{},"sourceType":"module"}