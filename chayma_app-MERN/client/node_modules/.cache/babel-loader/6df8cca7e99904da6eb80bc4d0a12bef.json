{"ast":null,"code":"import queryString from 'query-string';\nexport const getProductsBySearch = params => {\n  const query = queryString.stringify(params);\n  console.log('query', query);\n  return fetch(`${process.env.REACT_APP_API_URL}/products/search?${query}`, {\n    method: 'GET'\n  }).then(response => {\n    return response.json();\n  }).catch(err => console.log(err));\n};\nexport const getProducts = sortBy => {\n  return fetch(`${process.env.REACT_APP_API_URL}/products?sortBy=${sortBy}&order=desc&limit=6`, {\n    method: 'GET'\n  }).then(response => {\n    return response.json();\n  }).catch(err => console.log(err));\n};\nexport const getFilteredProducts = (skip, limit, filters = {}) => {\n  const data = {\n    limit,\n    skip,\n    filters\n  };\n  return fetch(`${process.env.REACT_APP_API_URL}/products/by/search`, {\n    method: 'POST',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(data)\n  }).then(response => {\n    return response.json();\n  }).catch(err => {\n    console.log(err);\n  });\n};\nexport const getSingleProduct = productId => {\n  return fetch(`${process.env.REACT_APP_API_URL}/product/${productId}`, {\n    method: 'GET'\n  }).then(response => {\n    return response.json();\n  }).catch(err => console.log(err));\n};\nexport const getRelatedProducts = productId => {\n  return fetch(`${process.env.REACT_APP_API_URL}/products/related/${productId}`, {\n    method: 'GET'\n  }).then(response => {\n    return response.json();\n  }).catch(err => console.log(err));\n};\nexport const getBraintreeClientToken = (userId, token) => {\n  return fetch(`${process.env.REACT_APP_API_URL}/braintree/getToken/${userId}`, {\n    method: 'GET',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${token}`\n    }\n  }).then(response => {\n    return response.json();\n  }).catch(err => console.log(err));\n};\nexport const processPayment = (userId, token, paymentData) => {\n  return fetch(`${process.env.REACT_APP_API_URL}/braintree/payment/${userId}`, {\n    method: 'POST',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${token}`\n    },\n    body: JSON.stringify(paymentData)\n  }).then(response => {\n    return response.json();\n  }).catch(err => console.log(err));\n};\nexport const createOrder = (userId, token, createOrderData) => {\n  return fetch(`${process.env.REACT_APP_API_URL}/order/create/${userId}`, {\n    method: 'POST',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${token}`\n    },\n    body: JSON.stringify({\n      order: createOrderData\n    })\n  }).then(response => {\n    return response.json();\n  }).catch(err => console.log(err));\n};","map":{"version":3,"sources":["C:/Users/Admin/Desktop/Nouveau dossier (2)/GoMycode-MERN/client/src/helpers/userFetch.js"],"names":["queryString","getProductsBySearch","params","query","stringify","console","log","fetch","process","env","REACT_APP_API_URL","method","then","response","json","catch","err","getProducts","sortBy","getFilteredProducts","skip","limit","filters","data","headers","Accept","body","JSON","getSingleProduct","productId","getRelatedProducts","getBraintreeClientToken","userId","token","Authorization","processPayment","paymentData","createOrder","createOrderData","order"],"mappings":"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","sourcesContent":["import queryString from 'query-string';\n\nexport const getProductsBySearch = params => {\n  const query = queryString.stringify(params);\n  console.log('query', query);\n  return fetch(`${process.env.REACT_APP_API_URL}/products/search?${query}`, {\n    method: 'GET'\n  })\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => console.log(err));\n};\n\nexport const getProducts = sortBy => {\n  return fetch(\n    `${process.env.REACT_APP_API_URL}/products?sortBy=${sortBy}&order=desc&limit=6`,\n    {\n      method: 'GET'\n    }\n  )\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => console.log(err));\n};\n\nexport const getFilteredProducts = (skip, limit, filters = {}) => {\n  const data = {\n    limit,\n    skip,\n    filters\n  };\n  return fetch(`${process.env.REACT_APP_API_URL}/products/by/search`, {\n    method: 'POST',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(data)\n  })\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => {\n      console.log(err);\n    });\n};\n\nexport const getSingleProduct = productId => {\n  return fetch(`${process.env.REACT_APP_API_URL}/product/${productId}`, {\n    method: 'GET'\n  })\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => console.log(err));\n};\n\nexport const getRelatedProducts = productId => {\n  return fetch(\n    `${process.env.REACT_APP_API_URL}/products/related/${productId}`,\n    {\n      method: 'GET'\n    }\n  )\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => console.log(err));\n};\n\nexport const getBraintreeClientToken = (userId, token) => {\n  return fetch(\n    `${process.env.REACT_APP_API_URL}/braintree/getToken/${userId}`,\n    {\n      method: 'GET',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${token}`\n      }\n    }\n  )\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => console.log(err));\n};\n\nexport const processPayment = (userId, token, paymentData) => {\n  return fetch(`${process.env.REACT_APP_API_URL}/braintree/payment/${userId}`, {\n    method: 'POST',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${token}`\n    },\n    body: JSON.stringify(paymentData)\n  })\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => console.log(err));\n};\n\nexport const createOrder = (userId, token, createOrderData) => {\n  return fetch(`${process.env.REACT_APP_API_URL}/order/create/${userId}`, {\n    method: 'POST',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${token}`\n    },\n    body: JSON.stringify({ order: createOrderData })\n  })\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => console.log(err));\n};\n"]},"metadata":{},"sourceType":"module"}