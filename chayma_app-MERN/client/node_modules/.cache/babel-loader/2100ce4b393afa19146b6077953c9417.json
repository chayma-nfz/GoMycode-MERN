{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\Admin\\\\Desktop\\\\Nouveau dossier (2)\\\\ECommerce-MERN\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"C:\\\\Users\\\\Admin\\\\Desktop\\\\Nouveau dossier (2)\\\\ECommerce-MERN\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Desktop\\\\Nouveau dossier (2)\\\\ECommerce-MERN\\\\client\\\\src\\\\components\\\\SignIn\\\\SignIn.js\";\nimport React, { useState } from 'react';\nimport { Link, Redirect } from 'react-router-dom';\nimport { signin, authenticate } from '../../helpers/authFetch';\nimport Google from '../Google/Google';\nimport Facebook from '../FacebookLogin/FaceBookLogin';\n\nconst Signin = () => {\n  const _useState = useState({\n    email: '',\n    password: '',\n    error: '',\n    loading: false,\n    redirectToReferrer: false\n  }),\n        _useState2 = _slicedToArray(_useState, 2),\n        values = _useState2[0],\n        setValues = _useState2[1];\n\n  const email = values.email,\n        password = values.password,\n        loading = values.loading,\n        error = values.error,\n        redirectToReferrer = values.redirectToReferrer;\n\n  const handleChange = name => event => {\n    setValues(_objectSpread({}, values, {\n      error: false,\n      [name]: event.target.value\n    }));\n  };\n\n  const clickSubmit = event => {\n    event.preventDefault();\n    setValues(_objectSpread({}, values, {\n      error: false,\n      loading: true\n    }));\n    signin({\n      email,\n      password\n    }).then(data => {\n      if (data.error) {\n        setValues(_objectSpread({}, values, {\n          error: data.error,\n          loading: false\n        }));\n      } else {\n        authenticate(data, () => {\n          setValues(_objectSpread({}, values, {\n            redirectToReferrer: true\n          }));\n        });\n      }\n    });\n  };\n\n  const signUpForm = () => React.createElement(\"form\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    className: \"text-muted\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, \"Email\"), React.createElement(\"input\", {\n    onChange: handleChange('email'),\n    type: \"email\",\n    className: \"form-control\",\n    value: email,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    className: \"text-muted\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, \"Password\"), React.createElement(\"input\", {\n    onChange: handleChange('password'),\n    type: \"password\",\n    className: \"form-control\",\n    value: password,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, \"Don't remember your password?\", React.createElement(Link, {\n    to: \"/auth/password/forgot\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, \"\\xA0Click here!\"))), React.createElement(\"button\", {\n    onClick: clickSubmit,\n    className: \"btn btn-primary float-right\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, \"Submit\"));\n\n  const showError = () => React.createElement(\"div\", {\n    className: \"alert alert-danger\",\n    style: {\n      display: error ? '' : 'none'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, error);\n\n  const showLoading = () => loading && React.createElement(\"div\", {\n    className: \"d-flex justify-content-center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"spinner-border\",\n    role: \"status\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"sr-only\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, \"Loading...\")));\n\n  const redirectUser = () => {\n    if (redirectToReferrer) {\n      return React.createElement(Redirect, {\n        to: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      });\n    }\n  };\n\n  const informParent = response => {\n    authenticate(response, () => {\n      setValues(_objectSpread({}, values, {\n        redirectToReferrer: true\n      }));\n    });\n  };\n\n  return React.createElement(\"div\", {\n    className: \"container w-50\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    className: \"title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  }, \"Sign In\"), showLoading(), showError(), React.createElement(\"div\", {\n    className: \"text-center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }, React.createElement(Google, {\n    informParent: informParent,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }), React.createElement(Facebook, {\n    informParent: informParent,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  })), signUpForm(), redirectUser());\n};\n\nexport default Signin;","map":{"version":3,"sources":["C:/Users/Admin/Desktop/Nouveau dossier (2)/ECommerce-MERN/client/src/components/SignIn/SignIn.js"],"names":["React","useState","Link","Redirect","signin","authenticate","Google","Facebook","Signin","email","password","error","loading","redirectToReferrer","values","setValues","handleChange","name","event","target","value","clickSubmit","preventDefault","then","data","signUpForm","showError","display","showLoading","redirectUser","informParent","response"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { Link, Redirect } from 'react-router-dom';\nimport { signin, authenticate } from '../../helpers/authFetch';\nimport Google from '../Google/Google';\nimport Facebook from '../FacebookLogin/FaceBookLogin';\n\nconst Signin = () => {\n  const [values, setValues] = useState({\n    email: '',\n    password: '',\n    error: '',\n    loading: false,\n    redirectToReferrer: false\n  });\n\n  const { email, password, loading, error, redirectToReferrer } = values;\n\n  const handleChange = name => event => {\n    setValues({ ...values, error: false, [name]: event.target.value });\n  };\n\n  const clickSubmit = event => {\n    event.preventDefault();\n    setValues({ ...values, error: false, loading: true });\n    signin({ email, password }).then(data => {\n      if (data.error) {\n        setValues({ ...values, error: data.error, loading: false });\n      } else {\n        authenticate(data, () => {\n          setValues({\n            ...values,\n            redirectToReferrer: true\n          });\n        });\n      }\n    });\n  };\n\n  const signUpForm = () => (\n    <form>\n      <div className=\"form-group\">\n        <label className=\"text-muted\">Email</label>\n        <input\n          onChange={handleChange('email')}\n          type=\"email\"\n          className=\"form-control\"\n          value={email}\n        />\n      </div>\n\n      <div className=\"form-group\">\n        <label className=\"text-muted\">Password</label>\n        <input\n          onChange={handleChange('password')}\n          type=\"password\"\n          className=\"form-control\"\n          value={password}\n        />\n      </div>\n      <div>\n        <p>\n          Don't remember your password?\n          <Link to=\"/auth/password/forgot\">&nbsp;Click here!</Link>\n        </p>\n      </div>\n      <button onClick={clickSubmit} className=\"btn btn-primary float-right\">\n        Submit\n      </button>\n    </form>\n  );\n\n  const showError = () => (\n    <div\n      className=\"alert alert-danger\"\n      style={{ display: error ? '' : 'none' }}\n    >\n      {error}\n    </div>\n  );\n\n  const showLoading = () =>\n    loading && (\n      <div className=\"d-flex justify-content-center\">\n        <div className=\"spinner-border\" role=\"status\">\n          <span className=\"sr-only\">Loading...</span>\n        </div>\n      </div>\n    );\n\n  const redirectUser = () => {\n    if (redirectToReferrer) {\n      return <Redirect to=\"/\" />;\n    }\n  };\n\n  const informParent = response => {\n    authenticate(response, () => {\n      setValues({\n        ...values,\n        redirectToReferrer: true\n      });\n    });\n  };\n\n  return (\n    <div className=\"container w-50\">\n      <h1 className=\"title\">Sign In</h1>\n      {showLoading()}\n      {showError()}\n      <div className=\"text-center\">\n        <Google informParent={informParent} />\n        <Facebook informParent={informParent} />\n      </div>\n\n      {signUpForm()}\n      {redirectUser()}\n    </div>\n  );\n};\n\nexport default Signin;\n"]},"metadata":{},"sourceType":"module"}