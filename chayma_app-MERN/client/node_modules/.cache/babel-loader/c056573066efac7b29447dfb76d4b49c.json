{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\Admin\\\\Desktop\\\\Nouveau dossier (2)\\\\ECommerce-MERN\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Desktop\\\\Nouveau dossier (2)\\\\ECommerce-MERN\\\\client\\\\src\\\\components\\\\Home\\\\Home.js\";\nimport React, { useState, useEffect } from 'react';\nimport { getProducts } from '../../helpers/userFetch';\nimport Card from './Card';\n\nconst Home = () => {\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        productsBySold = _useState2[0],\n        setProductBySold = _useState2[1];\n\n  const _useState3 = useState([]),\n        _useState4 = _slicedToArray(_useState3, 2),\n        productsByArrival = _useState4[0],\n        setProductByArrival = _useState4[1];\n\n  const _useState5 = useState(false),\n        _useState6 = _slicedToArray(_useState5, 2),\n        error = _useState6[0],\n        setError = _useState6[1];\n\n  const _useState7 = useState(true),\n        _useState8 = _slicedToArray(_useState7, 2),\n        loading = _useState8[0],\n        setLoading = _useState8[1];\n\n  const loadProductsBySold = () => {\n    getProducts('sold').then(data => {\n      if (data.error) {\n        setError(data.error);\n      } else {\n        setLoading(false);\n        setProductBySold(data);\n      }\n    });\n  };\n\n  const loadProductsByArrival = () => {\n    getProducts('createdAt').then(data => {\n      if (data.error) {\n        setError(data.error);\n      } else {\n        setLoading(false);\n        setProductByArrival(data);\n      }\n    });\n  };\n\n  useEffect(() => {\n    loadProductsByArrival();\n    loadProductsBySold(); // eslint-disable-next-line\n  }, []);\n\n  const showError = () => error && React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, \"Fail to load!\");\n\n  const showLoading = () => loading && React.createElement(\"div\", {\n    className: \"d-flex justify-content-center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"spinner-border\",\n    role: \"status\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"sr-only\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, \"Loading...\")));\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, showError(), React.createElement(\"h1\", {\n    className: \"title pt-3 pb-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, \"New Arrivals\"), showLoading(), React.createElement(\"div\", {\n    className: \"container-fluid row m-0 p-0 card-container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, productsByArrival.map((product, i) => React.createElement(\"div\", {\n    className: \"col-4 mb-3\",\n    key: i,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, React.createElement(Card, {\n    product: product,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  })))), React.createElement(\"h1\", {\n    className: \"title pt-3 pb-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, \"Best Sellers\"), showLoading(), React.createElement(\"div\", {\n    className: \"container-fluid row m-0 p-0 card-container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, productsBySold.map((product, i) => React.createElement(\"div\", {\n    className: \"col-4 mb-3\",\n    key: i,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, React.createElement(Card, {\n    product: product,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  })))));\n};\n\nexport default Home;","map":{"version":3,"sources":["C:/Users/Admin/Desktop/Nouveau dossier (2)/ECommerce-MERN/client/src/components/Home/Home.js"],"names":["React","useState","useEffect","getProducts","Card","Home","productsBySold","setProductBySold","productsByArrival","setProductByArrival","error","setError","loading","setLoading","loadProductsBySold","then","data","loadProductsByArrival","showError","showLoading","map","product","i"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { getProducts } from '../../helpers/userFetch';\nimport Card from './Card';\n\nconst Home = () => {\n  const [productsBySold, setProductBySold] = useState([]);\n  const [productsByArrival, setProductByArrival] = useState([]);\n  const [error, setError] = useState(false);\n  const [loading, setLoading] = useState(true);\n\n  const loadProductsBySold = () => {\n    getProducts('sold').then(data => {\n      if (data.error) {\n        setError(data.error);\n      } else {\n        setLoading(false);\n        setProductBySold(data);\n      }\n    });\n  };\n\n  const loadProductsByArrival = () => {\n    getProducts('createdAt').then(data => {\n      if (data.error) {\n        setError(data.error);\n      } else {\n        setLoading(false);\n        setProductByArrival(data);\n      }\n    });\n  };\n\n  useEffect(() => {\n    loadProductsByArrival();\n    loadProductsBySold();\n    // eslint-disable-next-line\n  }, []);\n\n  const showError = () => error && <h2>Fail to load!</h2>;\n\n  const showLoading = () =>\n    loading && (\n      <div className=\"d-flex justify-content-center\">\n        <div className=\"spinner-border\" role=\"status\">\n          <span className=\"sr-only\">Loading...</span>\n        </div>\n      </div>\n    );\n\n  return (\n    <div>\n      {showError()}\n      <h1 className=\"title pt-3 pb-3\">New Arrivals</h1>\n      {showLoading()}\n\n      <div className=\"container-fluid row m-0 p-0 card-container\">\n        {productsByArrival.map((product, i) => (\n          <div className=\"col-4 mb-3\" key={i}>\n            <Card product={product} />\n          </div>\n        ))}\n      </div>\n\n      <h1 className=\"title pt-3 pb-3\">Best Sellers</h1>\n      {showLoading()}\n      <div className=\"container-fluid row m-0 p-0 card-container\">\n        {productsBySold.map((product, i) => (\n          <div className=\"col-4 mb-3\" key={i}>\n            <Card product={product} />\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}