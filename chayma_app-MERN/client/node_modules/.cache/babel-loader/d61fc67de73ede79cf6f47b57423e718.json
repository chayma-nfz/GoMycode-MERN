{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\Admin\\\\Desktop\\\\Nouveau dossier (2)\\\\ECommerce-MERN\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Desktop\\\\Nouveau dossier (2)\\\\ECommerce-MERN\\\\client\\\\src\\\\components\\\\Product\\\\Product.js\";\nimport React, { useState, useEffect } from 'react';\nimport { getSingleProduct, getRelatedProducts } from '../../helpers/userFetch';\nimport Card from '../Home/Card';\n\nconst Product = ({\n  match\n}) => {\n  const _useState = useState({}),\n        _useState2 = _slicedToArray(_useState, 2),\n        product = _useState2[0],\n        setProduct = _useState2[1];\n\n  const _useState3 = useState([]),\n        _useState4 = _slicedToArray(_useState3, 2),\n        relatedProducts = _useState4[0],\n        setRelatedProducts = _useState4[1];\n\n  const _useState5 = useState(false),\n        setError = _useState5.setError;\n\n  useEffect(() => {\n    const productId = match.params.productId; //Fetch single Product\n\n    getSingleProduct(productId).then(data => {\n      if (data.error) {\n        setError(data.error);\n      } else {\n        setProduct(data); // Fetch related products if fetch single product successfully\n\n        getRelatedProducts(data._id).then(data => {\n          if (data.error) {\n            setError(data.error);\n          } else {\n            setRelatedProducts(data);\n          }\n        });\n      }\n    }); // eslint-disable-next-line\n  }, []); // console.log(product);\n  // console.log(relatedProducts);\n\n  const showNoRelated = () => {\n    return relatedProducts.length === 0 && React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34\n      },\n      __self: this\n    }, \"No related products found.\");\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n    className: \"m-2 d-flex justify-content-center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col-6\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, product && product.description && React.createElement(Card, {\n    product: product,\n    showViewButton: false,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    className: \"text-center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    className: \"title p-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, \"Related Products\"), showNoRelated(), React.createElement(\"div\", {\n    className: \"row m-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, relatedProducts.map(product => React.createElement(\"div\", {\n    className: \"col-4\",\n    key: product._id,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, React.createElement(Card, {\n    product: product,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }))))));\n};\n\nexport default Product;","map":{"version":3,"sources":["C:/Users/Admin/Desktop/Nouveau dossier (2)/ECommerce-MERN/client/src/components/Product/Product.js"],"names":["React","useState","useEffect","getSingleProduct","getRelatedProducts","Card","Product","match","product","setProduct","relatedProducts","setRelatedProducts","setError","productId","params","then","data","error","_id","showNoRelated","length","description","map"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,gBAAT,EAA2BC,kBAA3B,QAAqD,yBAArD;AACA,OAAOC,IAAP,MAAiB,cAAjB;;AAEA,MAAMC,OAAO,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAe;AAAA,oBACCN,QAAQ,CAAC,EAAD,CADT;AAAA;AAAA,QACtBO,OADsB;AAAA,QACbC,UADa;;AAAA,qBAEiBR,QAAQ,CAAC,EAAD,CAFzB;AAAA;AAAA,QAEtBS,eAFsB;AAAA,QAELC,kBAFK;;AAAA,qBAGRV,QAAQ,CAAC,KAAD,CAHA;AAAA,QAGrBW,QAHqB,cAGrBA,QAHqB;;AAK7BV,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMW,SAAS,GAAGN,KAAK,CAACO,MAAN,CAAaD,SAA/B,CADc,CAEd;;AACAV,IAAAA,gBAAgB,CAACU,SAAD,CAAhB,CAA4BE,IAA5B,CAAiCC,IAAI,IAAI;AACvC,UAAIA,IAAI,CAACC,KAAT,EAAgB;AACdL,QAAAA,QAAQ,CAACI,IAAI,CAACC,KAAN,CAAR;AACD,OAFD,MAEO;AACLR,QAAAA,UAAU,CAACO,IAAD,CAAV,CADK,CAEL;;AACAZ,QAAAA,kBAAkB,CAACY,IAAI,CAACE,GAAN,CAAlB,CAA6BH,IAA7B,CAAkCC,IAAI,IAAI;AACxC,cAAIA,IAAI,CAACC,KAAT,EAAgB;AACdL,YAAAA,QAAQ,CAACI,IAAI,CAACC,KAAN,CAAR;AACD,WAFD,MAEO;AACLN,YAAAA,kBAAkB,CAACK,IAAD,CAAlB;AACD;AACF,SAND;AAOD;AACF,KAdD,EAHc,CAkBd;AACD,GAnBQ,EAmBN,EAnBM,CAAT,CAL6B,CA0B7B;AACA;;AACA,QAAMG,aAAa,GAAG,MAAM;AAC1B,WAAOT,eAAe,CAACU,MAAhB,KAA2B,CAA3B,IAAgC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oCAAvC;AACD,GAFD;;AAIA,SACE,0CACE;AAAK,IAAA,SAAS,EAAC,mCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGZ,OAAO,IAAIA,OAAO,CAACa,WAAnB,IACC,oBAAC,IAAD;AAAM,IAAA,OAAO,EAAEb,OAAf;AAAwB,IAAA,cAAc,EAAE,KAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CADF,CADF,EAQE;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAI,IAAA,SAAS,EAAC,WAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,EAEGW,aAAa,EAFhB,EAGE;AAAK,IAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGT,eAAe,CAACY,GAAhB,CAAoBd,OAAO,IAC1B;AAAK,IAAA,SAAS,EAAC,OAAf;AAAuB,IAAA,GAAG,EAAEA,OAAO,CAACU,GAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,IAAD;AAAM,IAAA,OAAO,EAAEV,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADD,CADH,CAHF,CARF,CADF;AAsBD,CAtDD;;AAwDA,eAAeF,OAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { getSingleProduct, getRelatedProducts } from '../../helpers/userFetch';\nimport Card from '../Home/Card';\n\nconst Product = ({ match }) => {\n  const [product, setProduct] = useState({});\n  const [relatedProducts, setRelatedProducts] = useState([]);\n  const { setError } = useState(false);\n\n  useEffect(() => {\n    const productId = match.params.productId;\n    //Fetch single Product\n    getSingleProduct(productId).then(data => {\n      if (data.error) {\n        setError(data.error);\n      } else {\n        setProduct(data);\n        // Fetch related products if fetch single product successfully\n        getRelatedProducts(data._id).then(data => {\n          if (data.error) {\n            setError(data.error);\n          } else {\n            setRelatedProducts(data);\n          }\n        });\n      }\n    });\n    // eslint-disable-next-line\n  }, []);\n\n  // console.log(product);\n  // console.log(relatedProducts);\n  const showNoRelated = () => {\n    return relatedProducts.length === 0 && <h4>No related products found.</h4>;\n  };\n\n  return (\n    <>\n      <div className=\"m-2 d-flex justify-content-center\">\n        <div className=\"col-6\">\n          {product && product.description && (\n            <Card product={product} showViewButton={false} />\n          )}\n        </div>\n      </div>\n      <div className=\"text-center\">\n        <h1 className=\"title p-3\">Related Products</h1>\n        {showNoRelated()}\n        <div className=\"row m-2\">\n          {relatedProducts.map(product => (\n            <div className=\"col-4\" key={product._id}>\n              <Card product={product} />\n            </div>\n          ))}\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default Product;\n"]},"metadata":{},"sourceType":"module"}