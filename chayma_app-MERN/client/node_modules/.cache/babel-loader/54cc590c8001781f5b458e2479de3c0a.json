{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\Admin\\\\Desktop\\\\Nouveau dossier (2)\\\\ECommerce-MERN\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{Link,Redirect}from'react-router-dom';import Images from'./Images';import moment from'moment';import{addItem,updateItem,removeItem}from'../../helpers/cart';var Card=function Card(_ref){var product=_ref.product,_ref$showViewButton=_ref.showViewButton,showViewButton=_ref$showViewButton===void 0?true:_ref$showViewButton,_ref$showAddToCartBut=_ref.showAddToCartButton,showAddToCartButton=_ref$showAddToCartBut===void 0?true:_ref$showAddToCartBut,_ref$cartUpdate=_ref.cartUpdate,cartUpdate=_ref$cartUpdate===void 0?false:_ref$cartUpdate,_ref$showRemoveProduc=_ref.showRemoveProductButton,showRemoveProductButton=_ref$showRemoveProduc===void 0?false:_ref$showRemoveProduc,_ref$setRender=_ref.setRender,setRender=_ref$setRender===void 0?function(f){return f;}:_ref$setRender,_ref$render=_ref.render,render=_ref$render===void 0?undefined:_ref$render;var _useState=useState(1),_useState2=_slicedToArray(_useState,2),count=_useState2[0],setCount=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),redirect=_useState4[0],setRedirect=_useState4[1];var showViewProductButton=function showViewProductButton(showViewButton){return showViewButton&&React.createElement(Link,{to:\"/product/\".concat(product._id),className:\"mr-2\"},React.createElement(\"button\",{className:\"btn btn-outline-primary mt-2 mb-2\"},\"View\"));};var showStock=function showStock(quantity){return quantity>0?React.createElement(\"span\",{className:\"badge badge-primary badge-pill mb-2\"},\"In Stock\"):React.createElement(\"span\",{className:\"badge badge-primary badge-pill mb-2\"},\"Out of Stock\");};// Add to cart functionality\nvar addToCart=function addToCart(){addItem(product,function(){setRedirect(true);});};var shouldRedirect=function shouldRedirect(redirect){if(redirect){return React.createElement(Redirect,{to:\"/cart\"});}};var showAddToCart=function showAddToCart(showAddToCartButton){return showAddToCartButton&&React.createElement(\"button\",{className:\"btn btn-outline-success mt-2 mb-2\",onClick:addToCart},\"Add to cart\");};//Remove item from cart functionality\nvar showRemoveButton=function showRemoveButton(showRemoveProductButton){return showRemoveProductButton&&React.createElement(\"button\",{className:\"btn btn-outline-danger mt-2 mb-2\",onClick:function onClick(){removeItem(product._id,function(){return setRedirect(true);});setRender(!render);//re-render setItem in localstorage\n}},\"Remove\");};// update cart functionality\nvar handleChange=function handleChange(productId){return function(e){setRender(!render);//re-render setItem in localstorage\nsetCount(e.target.value<1?1:e.target.value);if(e.target.value>=1){updateItem(productId,e.target.value);}};};var showCartUpdateOptions=function showCartUpdateOptions(cartUpdate){return cartUpdate&&React.createElement(\"div\",{className:\"input-group mt-1\"},React.createElement(\"div\",{className:\"input-group-prepend\"},React.createElement(\"span\",{className:\"input-group-text\"},\"Quantity\")),React.createElement(\"input\",{type:\"number\",className:\"form-control\",value:count,onChange:handleChange(product._id)}));};return React.createElement(\"div\",{className:\"card h-100 text-center\"},React.createElement(\"div\",{className:\"card-header\"},product.name),React.createElement(\"div\",{className:\"card-image\"},shouldRedirect(redirect),React.createElement(Images,{item:product})),React.createElement(\"div\",{className:\"column card-body\"},React.createElement(\"p\",null,product.description.substring(0,50)),React.createElement(\"hr\",null),React.createElement(\"h5\",null,\"$\",product.price),React.createElement(\"hr\",null),React.createElement(\"p\",null,\"Category: \",product.category&&product.category.name),React.createElement(\"hr\",null),React.createElement(\"p\",null,\"Added \",moment(product.createdAt).fromNow()),React.createElement(\"div\",null,showStock(product.quantity)),React.createElement(\"div\",null,showViewProductButton(showViewButton),showAddToCart(showAddToCartButton),showRemoveButton(showRemoveProductButton)),showCartUpdateOptions(cartUpdate)));};export default Card;","map":{"version":3,"sources":["C:/Users/Admin/Desktop/Nouveau dossier (2)/ECommerce-MERN/client/src/components/Home/Card.js"],"names":["React","useState","Link","Redirect","Images","moment","addItem","updateItem","removeItem","Card","product","showViewButton","showAddToCartButton","cartUpdate","showRemoveProductButton","setRender","f","render","undefined","count","setCount","redirect","setRedirect","showViewProductButton","_id","showStock","quantity","addToCart","shouldRedirect","showAddToCart","showRemoveButton","handleChange","productId","e","target","value","showCartUpdateOptions","name","description","substring","price","category","createdAt","fromNow"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { Link, Redirect } from 'react-router-dom';\nimport Images from './Images';\nimport moment from 'moment';\nimport { addItem, updateItem, removeItem } from '../../helpers/cart';\n\nconst Card = ({\n  product,\n  showViewButton = true,\n  showAddToCartButton = true,\n  cartUpdate = false,\n  showRemoveProductButton = false,\n  setRender = f => f,\n  render = undefined\n}) => {\n  const [count, setCount] = useState(1);\n  const [redirect, setRedirect] = useState(false);\n\n  const showViewProductButton = showViewButton => {\n    return (\n      showViewButton && (\n        <Link to={`/product/${product._id}`} className=\"mr-2\">\n          <button className=\"btn btn-outline-primary mt-2 mb-2\">View</button>\n        </Link>\n      )\n    );\n  };\n  const showStock = quantity => {\n    return quantity > 0 ? (\n      <span className=\"badge badge-primary badge-pill mb-2\">In Stock</span>\n    ) : (\n      <span className=\"badge badge-primary badge-pill mb-2\">Out of Stock</span>\n    );\n  };\n\n  // Add to cart functionality\n  const addToCart = () => {\n    addItem(product, () => {\n      setRedirect(true);\n    });\n  };\n\n  const shouldRedirect = redirect => {\n    if (redirect) {\n      return <Redirect to=\"/cart\" />;\n    }\n  };\n\n  const showAddToCart = showAddToCartButton => {\n    return (\n      showAddToCartButton && (\n        <button\n          className=\"btn btn-outline-success mt-2 mb-2\"\n          onClick={addToCart}\n        >\n          Add to cart\n        </button>\n      )\n    );\n  };\n  //Remove item from cart functionality\n  const showRemoveButton = showRemoveProductButton => {\n    return (\n      showRemoveProductButton && (\n        <button\n          className=\"btn btn-outline-danger mt-2 mb-2\"\n          onClick={() => {\n            removeItem(product._id, () => setRedirect(true));\n            setRender(!render); //re-render setItem in localstorage\n          }}\n        >\n          Remove\n        </button>\n      )\n    );\n  };\n\n  // update cart functionality\n\n  const handleChange = productId => e => {\n    setRender(!render); //re-render setItem in localstorage\n    setCount(e.target.value < 1 ? 1 : e.target.value);\n    if (e.target.value >= 1) {\n      updateItem(productId, e.target.value);\n    }\n  };\n\n  const showCartUpdateOptions = cartUpdate => {\n    return (\n      cartUpdate && (\n        <div className=\"input-group mt-1\">\n          <div className=\"input-group-prepend\">\n            <span className=\"input-group-text\">Quantity</span>\n          </div>\n          <input\n            type=\"number\"\n            className=\"form-control\"\n            value={count}\n            onChange={handleChange(product._id)}\n          />\n        </div>\n      )\n    );\n  };\n\n  return (\n    <div className=\"card h-100 text-center\">\n      <div className=\"card-header\">{product.name}</div>\n      <div className=\"card-image\">\n        {shouldRedirect(redirect)}\n        <Images item={product} />\n      </div>\n      <div className=\"column card-body\">\n        <p>{product.description.substring(0, 50)}</p>\n        <hr />\n        <h5>${product.price}</h5>\n        <hr />\n        <p>Category: {product.category && product.category.name}</p>\n        <hr />\n        <p>Added {moment(product.createdAt).fromNow()}</p>\n\n        <div>{showStock(product.quantity)}</div>\n        <div>\n          {showViewProductButton(showViewButton)}\n\n          {showAddToCart(showAddToCartButton)}\n\n          {showRemoveButton(showRemoveProductButton)}\n        </div>\n        {showCartUpdateOptions(cartUpdate)}\n      </div>\n    </div>\n  );\n};\n\nexport default Card;\n"]},"metadata":{},"sourceType":"module"}