{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\Admin\\\\Desktop\\\\Nouveau dossier (2)\\\\ECommerce-MERN\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{getProducts}from'../../helpers/userFetch';import Card from'./Card';var Home=function Home(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),productsBySold=_useState2[0],setProductBySold=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),productsByArrival=_useState4[0],setProductByArrival=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];var _useState7=useState(true),_useState8=_slicedToArray(_useState7,2),loading=_useState8[0],setLoading=_useState8[1];var loadProductsBySold=function loadProductsBySold(){getProducts('sold').then(function(data){if(data.error){setError(data.error);}else{setLoading(false);setProductBySold(data);}});};var loadProductsByArrival=function loadProductsByArrival(){getProducts('createdAt').then(function(data){if(data.error){setError(data.error);}else{setLoading(false);setProductByArrival(data);}});};useEffect(function(){loadProductsByArrival();loadProductsBySold();// eslint-disable-next-line\n},[]);var showError=function showError(){return error&&React.createElement(\"h2\",null,\"Fail to load!\");};var showLoading=function showLoading(){return loading&&React.createElement(\"div\",{className:\"d-flex justify-content-center\"},React.createElement(\"div\",{className:\"spinner-border\",role:\"status\"},React.createElement(\"span\",{className:\"sr-only\"},\"Loading...\")));};return React.createElement(\"div\",null,showError(),React.createElement(\"h1\",{className:\"title pt-3 pb-3\"},\"New Arrivals\"),showLoading(),React.createElement(\"div\",{className:\"container-fluid row m-0 p-0 card-container\"},productsByArrival.map(function(product,i){return React.createElement(\"div\",{className:\"col-4 mb-3\",key:i},React.createElement(Card,{product:product}));})),React.createElement(\"h1\",{className:\"title pt-3 pb-3\"},\"Best Sellers\"),showLoading(),React.createElement(\"div\",{className:\"container-fluid row m-0 p-0 card-container\"},productsBySold.map(function(product,i){return React.createElement(\"div\",{className:\"col-4 mb-3\",key:i},React.createElement(Card,{product:product}));})));};export default Home;","map":{"version":3,"sources":["C:/Users/Admin/Desktop/Nouveau dossier (2)/ECommerce-MERN/client/src/components/Home/Home.js"],"names":["React","useState","useEffect","getProducts","Card","Home","productsBySold","setProductBySold","productsByArrival","setProductByArrival","error","setError","loading","setLoading","loadProductsBySold","then","data","loadProductsByArrival","showError","showLoading","map","product","i"],"mappings":"4JAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,WAAT,KAA4B,yBAA5B,CACA,MAAOC,CAAAA,IAAP,KAAiB,QAAjB,CAEA,GAAMC,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,EAAM,eAC0BJ,QAAQ,CAAC,EAAD,CADlC,wCACVK,cADU,eACMC,gBADN,8BAEgCN,QAAQ,CAAC,EAAD,CAFxC,yCAEVO,iBAFU,eAESC,mBAFT,8BAGSR,QAAQ,CAAC,KAAD,CAHjB,yCAGVS,KAHU,eAGHC,QAHG,8BAIaV,QAAQ,CAAC,IAAD,CAJrB,yCAIVW,OAJU,eAIDC,UAJC,eAMjB,GAAMC,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,EAAM,CAC/BX,WAAW,CAAC,MAAD,CAAX,CAAoBY,IAApB,CAAyB,SAAAC,IAAI,CAAI,CAC/B,GAAIA,IAAI,CAACN,KAAT,CAAgB,CACdC,QAAQ,CAACK,IAAI,CAACN,KAAN,CAAR,CACD,CAFD,IAEO,CACLG,UAAU,CAAC,KAAD,CAAV,CACAN,gBAAgB,CAACS,IAAD,CAAhB,CACD,CACF,CAPD,EAQD,CATD,CAWA,GAAMC,CAAAA,qBAAqB,CAAG,QAAxBA,CAAAA,qBAAwB,EAAM,CAClCd,WAAW,CAAC,WAAD,CAAX,CAAyBY,IAAzB,CAA8B,SAAAC,IAAI,CAAI,CACpC,GAAIA,IAAI,CAACN,KAAT,CAAgB,CACdC,QAAQ,CAACK,IAAI,CAACN,KAAN,CAAR,CACD,CAFD,IAEO,CACLG,UAAU,CAAC,KAAD,CAAV,CACAJ,mBAAmB,CAACO,IAAD,CAAnB,CACD,CACF,CAPD,EAQD,CATD,CAWAd,SAAS,CAAC,UAAM,CACde,qBAAqB,GACrBH,kBAAkB,GAClB;AACD,CAJQ,CAIN,EAJM,CAAT,CAMA,GAAMI,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,SAAMR,CAAAA,KAAK,EAAI,8CAAf,EAAlB,CAEA,GAAMS,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,SAClBP,CAAAA,OAAO,EACL,2BAAK,SAAS,CAAC,+BAAf,EACE,2BAAK,SAAS,CAAC,gBAAf,CAAgC,IAAI,CAAC,QAArC,EACE,4BAAM,SAAS,CAAC,SAAhB,eADF,CADF,CAFgB,EAApB,CASA,MACE,gCACGM,SAAS,EADZ,CAEE,0BAAI,SAAS,CAAC,iBAAd,iBAFF,CAGGC,WAAW,EAHd,CAKE,2BAAK,SAAS,CAAC,4CAAf,EACGX,iBAAiB,CAACY,GAAlB,CAAsB,SAACC,OAAD,CAAUC,CAAV,QACrB,4BAAK,SAAS,CAAC,YAAf,CAA4B,GAAG,CAAEA,CAAjC,EACE,oBAAC,IAAD,EAAM,OAAO,CAAED,OAAf,EADF,CADqB,EAAtB,CADH,CALF,CAaE,0BAAI,SAAS,CAAC,iBAAd,iBAbF,CAcGF,WAAW,EAdd,CAeE,2BAAK,SAAS,CAAC,4CAAf,EACGb,cAAc,CAACc,GAAf,CAAmB,SAACC,OAAD,CAAUC,CAAV,QAClB,4BAAK,SAAS,CAAC,YAAf,CAA4B,GAAG,CAAEA,CAAjC,EACE,oBAAC,IAAD,EAAM,OAAO,CAAED,OAAf,EADF,CADkB,EAAnB,CADH,CAfF,CADF,CAyBD,CAtED,CAwEA,cAAehB,CAAAA,IAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { getProducts } from '../../helpers/userFetch';\nimport Card from './Card';\n\nconst Home = () => {\n  const [productsBySold, setProductBySold] = useState([]);\n  const [productsByArrival, setProductByArrival] = useState([]);\n  const [error, setError] = useState(false);\n  const [loading, setLoading] = useState(true);\n\n  const loadProductsBySold = () => {\n    getProducts('sold').then(data => {\n      if (data.error) {\n        setError(data.error);\n      } else {\n        setLoading(false);\n        setProductBySold(data);\n      }\n    });\n  };\n\n  const loadProductsByArrival = () => {\n    getProducts('createdAt').then(data => {\n      if (data.error) {\n        setError(data.error);\n      } else {\n        setLoading(false);\n        setProductByArrival(data);\n      }\n    });\n  };\n\n  useEffect(() => {\n    loadProductsByArrival();\n    loadProductsBySold();\n    // eslint-disable-next-line\n  }, []);\n\n  const showError = () => error && <h2>Fail to load!</h2>;\n\n  const showLoading = () =>\n    loading && (\n      <div className=\"d-flex justify-content-center\">\n        <div className=\"spinner-border\" role=\"status\">\n          <span className=\"sr-only\">Loading...</span>\n        </div>\n      </div>\n    );\n\n  return (\n    <div>\n      {showError()}\n      <h1 className=\"title pt-3 pb-3\">New Arrivals</h1>\n      {showLoading()}\n\n      <div className=\"container-fluid row m-0 p-0 card-container\">\n        {productsByArrival.map((product, i) => (\n          <div className=\"col-4 mb-3\" key={i}>\n            <Card product={product} />\n          </div>\n        ))}\n      </div>\n\n      <h1 className=\"title pt-3 pb-3\">Best Sellers</h1>\n      {showLoading()}\n      <div className=\"container-fluid row m-0 p-0 card-container\">\n        {productsBySold.map((product, i) => (\n          <div className=\"col-4 mb-3\" key={i}>\n            <Card product={product} />\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}