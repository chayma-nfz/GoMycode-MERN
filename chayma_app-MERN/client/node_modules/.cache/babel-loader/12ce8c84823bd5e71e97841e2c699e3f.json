{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\Admin\\\\Desktop\\\\Nouveau dossier (2)\\\\ECommerce-MERN\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Desktop\\\\Nouveau dossier (2)\\\\ECommerce-MERN\\\\client\\\\src\\\\components\\\\AdminDashboard\\\\ManageCategories.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { getCategories, deleteCategory } from '../../helpers/adminFetch';\nimport { isAuthenticated } from '../../helpers/authFetch';\n\nconst ManageCategories = () => {\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        categories = _useState2[0],\n        setCategories = _useState2[1];\n\n  const _isAuthenticated = isAuthenticated(),\n        user = _isAuthenticated.user,\n        token = _isAuthenticated.token;\n\n  const loadCategories = () => getCategories().then(data => {\n    if (data.error) {\n      console.log(data.error);\n    } else {\n      setCategories(data);\n    }\n  });\n\n  useEffect(() => {\n    loadCategories(); // eslint-disable-next-line\n  }, []);\n\n  const deleteCategoryButton = categoryId => {\n    deleteCategory(user._id, token, categoryId).then(data => {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        loadCategories();\n      }\n    });\n  };\n\n  return React.createElement(\"div\", {\n    className: \"container w-50\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    className: \"title m-3 text-center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, \"Manage Categories\"), React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, \"Total categories: \", categories.length), React.createElement(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col-12\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, React.createElement(\"ul\", {\n    className: \"list-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, categories.map(c => React.createElement(\"li\", {\n    className: \"list-group-item\",\n    key: c._id,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, React.createElement(\"strong\", {\n    className: \"float-left\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, c.name), React.createElement(\"div\", {\n    className: \"float-right\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, React.createElement(Link, {\n    to: `/admin/category/update/${c._id}`,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"badge badge-warning badge-pill m-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, \"Update\")), React.createElement(Link, {\n    to: `/admin/categories`,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"badge badge-danger badge-pill\",\n    onClick: () => deleteCategoryButton(c._id),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, \"Delete\")))))))));\n};\n\nexport default ManageCategories;","map":{"version":3,"sources":["C:/Users/Admin/Desktop/Nouveau dossier (2)/ECommerce-MERN/client/src/components/AdminDashboard/ManageCategories.js"],"names":["React","useState","useEffect","Link","getCategories","deleteCategory","isAuthenticated","ManageCategories","categories","setCategories","user","token","loadCategories","then","data","error","console","log","deleteCategoryButton","categoryId","_id","length","map","c","name"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { getCategories, deleteCategory } from '../../helpers/adminFetch';\nimport { isAuthenticated } from '../../helpers/authFetch';\n\nconst ManageCategories = () => {\n  const [categories, setCategories] = useState([]);\n\n  const { user, token } = isAuthenticated();\n\n  const loadCategories = () =>\n    getCategories().then(data => {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        setCategories(data);\n      }\n    });\n\n  useEffect(() => {\n    loadCategories();\n    // eslint-disable-next-line\n  }, []);\n\n  const deleteCategoryButton = categoryId => {\n    deleteCategory(user._id, token, categoryId).then(data => {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        loadCategories();\n      }\n    });\n  };\n\n  return (\n    <div className=\"container w-50\">\n      <h1 className=\"title m-3 text-center\">Manage Categories</h1>\n      <h2>Total categories: {categories.length}</h2>\n      <div className=\"row\">\n        <div className=\"col-12\">\n          <ul className=\"list-group\">\n            {categories.map(c => (\n              <li className=\"list-group-item\" key={c._id}>\n                <strong className=\"float-left\">{c.name}</strong>\n                <div className=\"float-right\">\n                  <Link to={`/admin/category/update/${c._id}`}>\n                    <span className=\"badge badge-warning badge-pill m-2\">\n                      Update\n                    </span>\n                  </Link>\n\n                  <Link to={`/admin/categories`}>\n                    <span\n                      className=\"badge badge-danger badge-pill\"\n                      onClick={() => deleteCategoryButton(c._id)}\n                    >\n                      Delete\n                    </span>\n                  </Link>\n                </div>\n              </li>\n            ))}\n          </ul>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ManageCategories;\n"]},"metadata":{},"sourceType":"module"}