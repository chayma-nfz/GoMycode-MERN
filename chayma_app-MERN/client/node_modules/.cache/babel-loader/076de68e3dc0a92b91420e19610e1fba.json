{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Desktop\\\\Nouveau dossier (2)\\\\GoMycode-MERN\\\\client\\\\src\\\\components\\\\Product\\\\Product.js\";\nimport React, { useState, useEffect } from 'react';\nimport { getSingleProduct, getRelatedProducts } from '../../helpers/userFetch';\nimport Card from '../Home/Card';\n\nconst Product = ({\n  match\n}) => {\n  const [product, setProduct] = useState({});\n  const [relatedProducts, setRelatedProducts] = useState([]);\n  const {\n    setError\n  } = useState(false);\n  useEffect(() => {\n    const productId = match.params.productId; //Fetch single Product\n\n    getSingleProduct(productId).then(data => {\n      if (data.error) {\n        setError(data.error);\n      } else {\n        setProduct(data); // Fetch related products if fetch single product successfully\n\n        getRelatedProducts(data._id).then(data => {\n          if (data.error) {\n            setError(data.error);\n          } else {\n            setRelatedProducts(data);\n          }\n        });\n      }\n    }); // eslint-disable-next-line\n  }, []); // console.log(product);\n  // console.log(relatedProducts);\n\n  const showNoRelated = () => {\n    return relatedProducts.length === 0 && /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 44\n      }\n    }, \"No related products found.\");\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"m-2 d-flex justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }\n  }, product && product.description && /*#__PURE__*/React.createElement(Card, {\n    product: product,\n    showViewButton: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"title p-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }, \"Related Products\"), showNoRelated(), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row m-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }, relatedProducts.map(product => /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-4\",\n    key: product._id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    product: product,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 15\n    }\n  }))))));\n};\n\nexport default Product;","map":{"version":3,"sources":["C:/Users/Admin/Desktop/Nouveau dossier (2)/GoMycode-MERN/client/src/components/Product/Product.js"],"names":["React","useState","useEffect","getSingleProduct","getRelatedProducts","Card","Product","match","product","setProduct","relatedProducts","setRelatedProducts","setError","productId","params","then","data","error","_id","showNoRelated","length","description","map"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,gBAAT,EAA2BC,kBAA3B,QAAqD,yBAArD;AACA,OAAOC,IAAP,MAAiB,cAAjB;;AAEA,MAAMC,OAAO,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAe;AAC7B,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBR,QAAQ,CAAC,EAAD,CAAtC;AACA,QAAM,CAACS,eAAD,EAAkBC,kBAAlB,IAAwCV,QAAQ,CAAC,EAAD,CAAtD;AACA,QAAM;AAAEW,IAAAA;AAAF,MAAeX,QAAQ,CAAC,KAAD,CAA7B;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMW,SAAS,GAAGN,KAAK,CAACO,MAAN,CAAaD,SAA/B,CADc,CAEd;;AACAV,IAAAA,gBAAgB,CAACU,SAAD,CAAhB,CAA4BE,IAA5B,CAAiCC,IAAI,IAAI;AACvC,UAAIA,IAAI,CAACC,KAAT,EAAgB;AACdL,QAAAA,QAAQ,CAACI,IAAI,CAACC,KAAN,CAAR;AACD,OAFD,MAEO;AACLR,QAAAA,UAAU,CAACO,IAAD,CAAV,CADK,CAEL;;AACAZ,QAAAA,kBAAkB,CAACY,IAAI,CAACE,GAAN,CAAlB,CAA6BH,IAA7B,CAAkCC,IAAI,IAAI;AACxC,cAAIA,IAAI,CAACC,KAAT,EAAgB;AACdL,YAAAA,QAAQ,CAACI,IAAI,CAACC,KAAN,CAAR;AACD,WAFD,MAEO;AACLN,YAAAA,kBAAkB,CAACK,IAAD,CAAlB;AACD;AACF,SAND;AAOD;AACF,KAdD,EAHc,CAkBd;AACD,GAnBQ,EAmBN,EAnBM,CAAT,CAL6B,CA0B7B;AACA;;AACA,QAAMG,aAAa,GAAG,MAAM;AAC1B,WAAOT,eAAe,CAACU,MAAhB,KAA2B,CAA3B,iBAAgC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oCAAvC;AACD,GAFD;;AAIA,sBACE,uDACE;AAAK,IAAA,SAAS,EAAC,mCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGZ,OAAO,IAAIA,OAAO,CAACa,WAAnB,iBACC,oBAAC,IAAD;AAAM,IAAA,OAAO,EAAEb,OAAf;AAAwB,IAAA,cAAc,EAAE,KAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CADF,CADF,eAQE;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAI,IAAA,SAAS,EAAC,WAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,EAEGW,aAAa,EAFhB,eAGE;AAAK,IAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGT,eAAe,CAACY,GAAhB,CAAoBd,OAAO,iBAC1B;AAAK,IAAA,SAAS,EAAC,OAAf;AAAuB,IAAA,GAAG,EAAEA,OAAO,CAACU,GAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,IAAD;AAAM,IAAA,OAAO,EAAEV,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADD,CADH,CAHF,CARF,CADF;AAsBD,CAtDD;;AAwDA,eAAeF,OAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { getSingleProduct, getRelatedProducts } from '../../helpers/userFetch';\nimport Card from '../Home/Card';\n\nconst Product = ({ match }) => {\n  const [product, setProduct] = useState({});\n  const [relatedProducts, setRelatedProducts] = useState([]);\n  const { setError } = useState(false);\n\n  useEffect(() => {\n    const productId = match.params.productId;\n    //Fetch single Product\n    getSingleProduct(productId).then(data => {\n      if (data.error) {\n        setError(data.error);\n      } else {\n        setProduct(data);\n        // Fetch related products if fetch single product successfully\n        getRelatedProducts(data._id).then(data => {\n          if (data.error) {\n            setError(data.error);\n          } else {\n            setRelatedProducts(data);\n          }\n        });\n      }\n    });\n    // eslint-disable-next-line\n  }, []);\n\n  // console.log(product);\n  // console.log(relatedProducts);\n  const showNoRelated = () => {\n    return relatedProducts.length === 0 && <h4>No related products found.</h4>;\n  };\n\n  return (\n    <>\n      <div className=\"m-2 d-flex justify-content-center\">\n        <div className=\"col-6\">\n          {product && product.description && (\n            <Card product={product} showViewButton={false} />\n          )}\n        </div>\n      </div>\n      <div className=\"text-center\">\n        <h1 className=\"title p-3\">Related Products</h1>\n        {showNoRelated()}\n        <div className=\"row m-2\">\n          {relatedProducts.map(product => (\n            <div className=\"col-4\" key={product._id}>\n              <Card product={product} />\n            </div>\n          ))}\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default Product;\n"]},"metadata":{},"sourceType":"module"}