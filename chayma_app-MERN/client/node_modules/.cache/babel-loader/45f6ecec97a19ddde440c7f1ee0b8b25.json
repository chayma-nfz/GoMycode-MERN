{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Desktop\\\\Nouveau dossier (2)\\\\GoMycode-MERN\\\\client\\\\src\\\\components\\\\AdminDashboard\\\\ManageProducts.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { getProducts, deleteProduct } from '../../helpers/adminFetch';\nimport { isAuthenticated } from '../../helpers/authFetch';\n\nconst ManageProducts = () => {\n  const [products, setProducts] = useState([]);\n  const {\n    user,\n    token\n  } = isAuthenticated();\n\n  const loadProducts = () => getProducts().then(data => {\n    if (data.error) {\n      console.log(data.error);\n    } else {\n      setProducts(data);\n    }\n  });\n\n  useEffect(() => {\n    loadProducts(); // eslint-disable-next-line\n  }, []);\n\n  const deleteProductButton = productId => {\n    deleteProduct(productId, user._id, token).then(data => {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        loadProducts();\n      }\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container w-50\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"title m-3 text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }\n  }, \"Manage Products\"), /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }\n  }, \"Total products: \", products.length), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"list-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 11\n    }\n  }, products.map(p => /*#__PURE__*/React.createElement(\"li\", {\n    className: \"list-group-item\",\n    key: p._id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    className: \"float-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 17\n    }\n  }, p.name), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"float-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: `/admin/product/update/${p._id}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"badge badge-warning badge-pill m-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 21\n    }\n  }, \"Update\")), /*#__PURE__*/React.createElement(Link, {\n    to: `/admin/products`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"badge badge-danger badge-pill\",\n    onClick: () => deleteProductButton(p._id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 21\n    }\n  }, \"Delete\")))))))));\n};\n\nexport default ManageProducts;","map":{"version":3,"sources":["C:/Users/Admin/Desktop/Nouveau dossier (2)/GoMycode-MERN/client/src/components/AdminDashboard/ManageProducts.js"],"names":["React","useState","useEffect","Link","getProducts","deleteProduct","isAuthenticated","ManageProducts","products","setProducts","user","token","loadProducts","then","data","error","console","log","deleteProductButton","productId","_id","length","map","p","name"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { getProducts, deleteProduct } from '../../helpers/adminFetch';\nimport { isAuthenticated } from '../../helpers/authFetch';\n\nconst ManageProducts = () => {\n  const [products, setProducts] = useState([]);\n\n  const { user, token } = isAuthenticated();\n\n  const loadProducts = () =>\n    getProducts().then(data => {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        setProducts(data);\n      }\n    });\n\n  useEffect(() => {\n    loadProducts();\n    // eslint-disable-next-line\n  }, []);\n\n  const deleteProductButton = productId => {\n    deleteProduct(productId, user._id, token).then(data => {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        loadProducts();\n      }\n    });\n  };\n\n  return (\n    <div className=\"container w-50\">\n      <h1 className=\"title m-3 text-center\">Manage Products</h1>\n      <h2>Total products: {products.length}</h2>\n      <div className=\"row\">\n        <div className=\"col-12\">\n          <ul className=\"list-group\">\n            {products.map(p => (\n              <li className=\"list-group-item\" key={p._id}>\n                <strong className=\"float-left\">{p.name}</strong>\n                <div className=\"float-right\">\n                  <Link to={`/admin/product/update/${p._id}`}>\n                    <span className=\"badge badge-warning badge-pill m-2\">\n                      Update\n                    </span>\n                  </Link>\n\n                  <Link to={`/admin/products`}>\n                    <span\n                      className=\"badge badge-danger badge-pill\"\n                      onClick={() => deleteProductButton(p._id)}\n                    >\n                      Delete\n                    </span>\n                  </Link>\n                </div>\n              </li>\n            ))}\n          </ul>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ManageProducts;\n"]},"metadata":{},"sourceType":"module"}