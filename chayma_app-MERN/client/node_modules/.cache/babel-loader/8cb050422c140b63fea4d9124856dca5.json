{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\Admin\\\\Desktop\\\\Nouveau dossier (2)\\\\ECommerce-MERN\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import{getCategories,deleteCategory}from'../../helpers/adminFetch';import{isAuthenticated}from'../../helpers/authFetch';var ManageCategories=function ManageCategories(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),categories=_useState2[0],setCategories=_useState2[1];var _isAuthenticated=isAuthenticated(),user=_isAuthenticated.user,token=_isAuthenticated.token;var loadCategories=function loadCategories(){return getCategories().then(function(data){if(data.error){console.log(data.error);}else{setCategories(data);}});};useEffect(function(){loadCategories();// eslint-disable-next-line\n},[]);var deleteCategoryButton=function deleteCategoryButton(categoryId){deleteCategory(user._id,token,categoryId).then(function(data){if(data.error){console.log(data.error);}else{loadCategories();}});};return React.createElement(\"div\",{className:\"container w-50\"},React.createElement(\"h1\",{className:\"title m-3 text-center\"},\"Manage Categories\"),React.createElement(\"h2\",null,\"Total categories: \",categories.length),React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"col-12\"},React.createElement(\"ul\",{className:\"list-group\"},categories.map(function(c){return React.createElement(\"li\",{className:\"list-group-item\",key:c._id},React.createElement(\"strong\",{className:\"float-left\"},c.name),React.createElement(\"div\",{className:\"float-right\"},React.createElement(Link,{to:\"/admin/category/update/\".concat(c._id)},React.createElement(\"span\",{className:\"badge badge-warning badge-pill m-2\"},\"Update\")),React.createElement(Link,{to:\"/admin/categories\"},React.createElement(\"span\",{className:\"badge badge-danger badge-pill\",onClick:function onClick(){return deleteCategoryButton(c._id);}},\"Delete\"))));})))));};export default ManageCategories;","map":{"version":3,"sources":["C:/Users/Admin/Desktop/Nouveau dossier (2)/ECommerce-MERN/client/src/components/AdminDashboard/ManageCategories.js"],"names":["React","useState","useEffect","Link","getCategories","deleteCategory","isAuthenticated","ManageCategories","categories","setCategories","user","token","loadCategories","then","data","error","console","log","deleteCategoryButton","categoryId","_id","length","map","c","name"],"mappings":"4JAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,OAASC,aAAT,CAAwBC,cAAxB,KAA8C,0BAA9C,CACA,OAASC,eAAT,KAAgC,yBAAhC,CAEA,GAAMC,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,EAAM,eACON,QAAQ,CAAC,EAAD,CADf,wCACtBO,UADsB,eACVC,aADU,oCAGLH,eAAe,EAHV,CAGrBI,IAHqB,kBAGrBA,IAHqB,CAGfC,KAHe,kBAGfA,KAHe,CAK7B,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,SACrBR,CAAAA,aAAa,GAAGS,IAAhB,CAAqB,SAAAC,IAAI,CAAI,CAC3B,GAAIA,IAAI,CAACC,KAAT,CAAgB,CACdC,OAAO,CAACC,GAAR,CAAYH,IAAI,CAACC,KAAjB,EACD,CAFD,IAEO,CACLN,aAAa,CAACK,IAAD,CAAb,CACD,CACF,CAND,CADqB,EAAvB,CASAZ,SAAS,CAAC,UAAM,CACdU,cAAc,GACd;AACD,CAHQ,CAGN,EAHM,CAAT,CAKA,GAAMM,CAAAA,oBAAoB,CAAG,QAAvBA,CAAAA,oBAAuB,CAAAC,UAAU,CAAI,CACzCd,cAAc,CAACK,IAAI,CAACU,GAAN,CAAWT,KAAX,CAAkBQ,UAAlB,CAAd,CAA4CN,IAA5C,CAAiD,SAAAC,IAAI,CAAI,CACvD,GAAIA,IAAI,CAACC,KAAT,CAAgB,CACdC,OAAO,CAACC,GAAR,CAAYH,IAAI,CAACC,KAAjB,EACD,CAFD,IAEO,CACLH,cAAc,GACf,CACF,CAND,EAOD,CARD,CAUA,MACE,4BAAK,SAAS,CAAC,gBAAf,EACE,0BAAI,SAAS,CAAC,uBAAd,sBADF,CAEE,mDAAuBJ,UAAU,CAACa,MAAlC,CAFF,CAGE,2BAAK,SAAS,CAAC,KAAf,EACE,2BAAK,SAAS,CAAC,QAAf,EACE,0BAAI,SAAS,CAAC,YAAd,EACGb,UAAU,CAACc,GAAX,CAAe,SAAAC,CAAC,QACf,2BAAI,SAAS,CAAC,iBAAd,CAAgC,GAAG,CAAEA,CAAC,CAACH,GAAvC,EACE,8BAAQ,SAAS,CAAC,YAAlB,EAAgCG,CAAC,CAACC,IAAlC,CADF,CAEE,2BAAK,SAAS,CAAC,aAAf,EACE,oBAAC,IAAD,EAAM,EAAE,kCAA4BD,CAAC,CAACH,GAA9B,CAAR,EACE,4BAAM,SAAS,CAAC,oCAAhB,WADF,CADF,CAOE,oBAAC,IAAD,EAAM,EAAE,oBAAR,EACE,4BACE,SAAS,CAAC,+BADZ,CAEE,OAAO,CAAE,yBAAMF,CAAAA,oBAAoB,CAACK,CAAC,CAACH,GAAH,CAA1B,EAFX,WADF,CAPF,CAFF,CADe,EAAhB,CADH,CADF,CADF,CAHF,CADF,CAiCD,CA9DD,CAgEA,cAAeb,CAAAA,gBAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { getCategories, deleteCategory } from '../../helpers/adminFetch';\nimport { isAuthenticated } from '../../helpers/authFetch';\n\nconst ManageCategories = () => {\n  const [categories, setCategories] = useState([]);\n\n  const { user, token } = isAuthenticated();\n\n  const loadCategories = () =>\n    getCategories().then(data => {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        setCategories(data);\n      }\n    });\n\n  useEffect(() => {\n    loadCategories();\n    // eslint-disable-next-line\n  }, []);\n\n  const deleteCategoryButton = categoryId => {\n    deleteCategory(user._id, token, categoryId).then(data => {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        loadCategories();\n      }\n    });\n  };\n\n  return (\n    <div className=\"container w-50\">\n      <h1 className=\"title m-3 text-center\">Manage Categories</h1>\n      <h2>Total categories: {categories.length}</h2>\n      <div className=\"row\">\n        <div className=\"col-12\">\n          <ul className=\"list-group\">\n            {categories.map(c => (\n              <li className=\"list-group-item\" key={c._id}>\n                <strong className=\"float-left\">{c.name}</strong>\n                <div className=\"float-right\">\n                  <Link to={`/admin/category/update/${c._id}`}>\n                    <span className=\"badge badge-warning badge-pill m-2\">\n                      Update\n                    </span>\n                  </Link>\n\n                  <Link to={`/admin/categories`}>\n                    <span\n                      className=\"badge badge-danger badge-pill\"\n                      onClick={() => deleteCategoryButton(c._id)}\n                    >\n                      Delete\n                    </span>\n                  </Link>\n                </div>\n              </li>\n            ))}\n          </ul>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ManageCategories;\n"]},"metadata":{},"sourceType":"module"}