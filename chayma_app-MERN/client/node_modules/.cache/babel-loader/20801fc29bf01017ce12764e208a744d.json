{"ast":null,"code":"import _defineProperty from\"C:\\\\Users\\\\Admin\\\\Desktop\\\\Nouveau dossier (2)\\\\ECommerce-MERN\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:\\\\Users\\\\Admin\\\\Desktop\\\\Nouveau dossier (2)\\\\ECommerce-MERN\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:\\\\Users\\\\Admin\\\\Desktop\\\\Nouveau dossier (2)\\\\ECommerce-MERN\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{Link,Redirect}from'react-router-dom';import{signin,authenticate}from'../../helpers/authFetch';import Google from'../Google/Google';import Facebook from'../FacebookLogin/FaceBookLogin';var Signin=function Signin(){var _useState=useState({email:'',password:'',error:'',loading:false,redirectToReferrer:false}),_useState2=_slicedToArray(_useState,2),values=_useState2[0],setValues=_useState2[1];var email=values.email,password=values.password,loading=values.loading,error=values.error,redirectToReferrer=values.redirectToReferrer;var handleChange=function handleChange(name){return function(event){setValues(_objectSpread({},values,_defineProperty({error:false},name,event.target.value)));};};var clickSubmit=function clickSubmit(event){event.preventDefault();setValues(_objectSpread({},values,{error:false,loading:true}));signin({email:email,password:password}).then(function(data){if(data.error){setValues(_objectSpread({},values,{error:data.error,loading:false}));}else{authenticate(data,function(){setValues(_objectSpread({},values,{redirectToReferrer:true}));});}});};var signUpForm=function signUpForm(){return React.createElement(\"form\",null,React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"label\",{className:\"text-muted\"},\"Email\"),React.createElement(\"input\",{onChange:handleChange('email'),type:\"email\",className:\"form-control\",value:email})),React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"label\",{className:\"text-muted\"},\"Password\"),React.createElement(\"input\",{onChange:handleChange('password'),type:\"password\",className:\"form-control\",value:password})),React.createElement(\"div\",null,React.createElement(\"p\",null,\"Don't remember your password?\",React.createElement(Link,{to:\"/auth/password/forgot\"},\"\\xA0Click here!\"))),React.createElement(\"button\",{onClick:clickSubmit,className:\"btn btn-primary float-right\"},\"Submit\"));};var showError=function showError(){return React.createElement(\"div\",{className:\"alert alert-danger\",style:{display:error?'':'none'}},error);};var showLoading=function showLoading(){return loading&&React.createElement(\"div\",{className:\"d-flex justify-content-center\"},React.createElement(\"div\",{className:\"spinner-border\",role:\"status\"},React.createElement(\"span\",{className:\"sr-only\"},\"Loading...\")));};var redirectUser=function redirectUser(){if(redirectToReferrer){return React.createElement(Redirect,{to:\"/\"});}};var informParent=function informParent(response){authenticate(response,function(){setValues(_objectSpread({},values,{redirectToReferrer:true}));});};return React.createElement(\"div\",{className:\"container w-50\"},React.createElement(\"h1\",{className:\"title\"},\"Sign In\"),showLoading(),showError(),React.createElement(\"div\",{className:\"text-center\"},React.createElement(Google,{informParent:informParent}),React.createElement(Facebook,{informParent:informParent})),signUpForm(),redirectUser());};export default Signin;","map":{"version":3,"sources":["C:/Users/Admin/Desktop/Nouveau dossier (2)/ECommerce-MERN/client/src/components/SignIn/SignIn.js"],"names":["React","useState","Link","Redirect","signin","authenticate","Google","Facebook","Signin","email","password","error","loading","redirectToReferrer","values","setValues","handleChange","name","event","target","value","clickSubmit","preventDefault","then","data","signUpForm","showError","display","showLoading","redirectUser","informParent","response"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { Link, Redirect } from 'react-router-dom';\nimport { signin, authenticate } from '../../helpers/authFetch';\nimport Google from '../Google/Google';\nimport Facebook from '../FacebookLogin/FaceBookLogin';\n\nconst Signin = () => {\n  const [values, setValues] = useState({\n    email: '',\n    password: '',\n    error: '',\n    loading: false,\n    redirectToReferrer: false\n  });\n\n  const { email, password, loading, error, redirectToReferrer } = values;\n\n  const handleChange = name => event => {\n    setValues({ ...values, error: false, [name]: event.target.value });\n  };\n\n  const clickSubmit = event => {\n    event.preventDefault();\n    setValues({ ...values, error: false, loading: true });\n    signin({ email, password }).then(data => {\n      if (data.error) {\n        setValues({ ...values, error: data.error, loading: false });\n      } else {\n        authenticate(data, () => {\n          setValues({\n            ...values,\n            redirectToReferrer: true\n          });\n        });\n      }\n    });\n  };\n\n  const signUpForm = () => (\n    <form>\n      <div className=\"form-group\">\n        <label className=\"text-muted\">Email</label>\n        <input\n          onChange={handleChange('email')}\n          type=\"email\"\n          className=\"form-control\"\n          value={email}\n        />\n      </div>\n\n      <div className=\"form-group\">\n        <label className=\"text-muted\">Password</label>\n        <input\n          onChange={handleChange('password')}\n          type=\"password\"\n          className=\"form-control\"\n          value={password}\n        />\n      </div>\n      <div>\n        <p>\n          Don't remember your password?\n          <Link to=\"/auth/password/forgot\">&nbsp;Click here!</Link>\n        </p>\n      </div>\n      <button onClick={clickSubmit} className=\"btn btn-primary float-right\">\n        Submit\n      </button>\n    </form>\n  );\n\n  const showError = () => (\n    <div\n      className=\"alert alert-danger\"\n      style={{ display: error ? '' : 'none' }}\n    >\n      {error}\n    </div>\n  );\n\n  const showLoading = () =>\n    loading && (\n      <div className=\"d-flex justify-content-center\">\n        <div className=\"spinner-border\" role=\"status\">\n          <span className=\"sr-only\">Loading...</span>\n        </div>\n      </div>\n    );\n\n  const redirectUser = () => {\n    if (redirectToReferrer) {\n      return <Redirect to=\"/\" />;\n    }\n  };\n\n  const informParent = response => {\n    authenticate(response, () => {\n      setValues({\n        ...values,\n        redirectToReferrer: true\n      });\n    });\n  };\n\n  return (\n    <div className=\"container w-50\">\n      <h1 className=\"title\">Sign In</h1>\n      {showLoading()}\n      {showError()}\n      <div className=\"text-center\">\n        <Google informParent={informParent} />\n        <Facebook informParent={informParent} />\n      </div>\n\n      {signUpForm()}\n      {redirectUser()}\n    </div>\n  );\n};\n\nexport default Signin;\n"]},"metadata":{},"sourceType":"module"}