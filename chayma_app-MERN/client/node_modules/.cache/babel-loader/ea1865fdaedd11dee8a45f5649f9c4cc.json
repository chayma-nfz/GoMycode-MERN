{"ast":null,"code":"import queryString from'query-string';export var getProductsBySearch=function getProductsBySearch(params){var query=queryString.stringify(params);console.log('query',query);return fetch(\"\".concat(process.env.REACT_APP_API_URL,\"/products/search?\").concat(query),{method:'GET'}).then(function(response){return response.json();}).catch(function(err){return console.log(err);});};export var getProducts=function getProducts(sortBy){return fetch(\"\".concat(process.env.REACT_APP_API_URL,\"/products?sortBy=\").concat(sortBy,\"&order=desc&limit=6\"),{method:'GET'}).then(function(response){return response.json();}).catch(function(err){return console.log(err);});};export var getFilteredProducts=function getFilteredProducts(skip,limit){var filters=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var data={limit:limit,skip:skip,filters:filters};return fetch(\"\".concat(process.env.REACT_APP_API_URL,\"/products/by/search\"),{method:'POST',headers:{Accept:'application/json','Content-Type':'application/json'},body:JSON.stringify(data)}).then(function(response){return response.json();}).catch(function(err){console.log(err);});};export var getSingleProduct=function getSingleProduct(productId){return fetch(\"\".concat(process.env.REACT_APP_API_URL,\"/product/\").concat(productId),{method:'GET'}).then(function(response){return response.json();}).catch(function(err){return console.log(err);});};export var getRelatedProducts=function getRelatedProducts(productId){return fetch(\"\".concat(process.env.REACT_APP_API_URL,\"/products/related/\").concat(productId),{method:'GET'}).then(function(response){return response.json();}).catch(function(err){return console.log(err);});};export var getBraintreeClientToken=function getBraintreeClientToken(userId,token){return fetch(\"\".concat(process.env.REACT_APP_API_URL,\"/braintree/getToken/\").concat(userId),{method:'GET',headers:{Accept:'application/json','Content-Type':'application/json',Authorization:\"Bearer \".concat(token)}}).then(function(response){return response.json();}).catch(function(err){return console.log(err);});};export var processPayment=function processPayment(userId,token,paymentData){return fetch(\"\".concat(process.env.REACT_APP_API_URL,\"/braintree/payment/\").concat(userId),{method:'POST',headers:{Accept:'application/json','Content-Type':'application/json',Authorization:\"Bearer \".concat(token)},body:JSON.stringify(paymentData)}).then(function(response){return response.json();}).catch(function(err){return console.log(err);});};export var createOrder=function createOrder(userId,token,createOrderData){return fetch(\"\".concat(process.env.REACT_APP_API_URL,\"/order/create/\").concat(userId),{method:'POST',headers:{Accept:'application/json','Content-Type':'application/json',Authorization:\"Bearer \".concat(token)},body:JSON.stringify({order:createOrderData})}).then(function(response){return response.json();}).catch(function(err){return console.log(err);});};","map":{"version":3,"sources":["C:/Users/Admin/Desktop/Nouveau dossier (2)/ECommerce-MERN/client/src/helpers/userFetch.js"],"names":["queryString","getProductsBySearch","params","query","stringify","console","log","fetch","process","env","REACT_APP_API_URL","method","then","response","json","catch","err","getProducts","sortBy","getFilteredProducts","skip","limit","filters","data","headers","Accept","body","JSON","getSingleProduct","productId","getRelatedProducts","getBraintreeClientToken","userId","token","Authorization","processPayment","paymentData","createOrder","createOrderData","order"],"mappings":"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","sourcesContent":["import queryString from 'query-string';\n\nexport const getProductsBySearch = params => {\n  const query = queryString.stringify(params);\n  console.log('query', query);\n  return fetch(`${process.env.REACT_APP_API_URL}/products/search?${query}`, {\n    method: 'GET'\n  })\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => console.log(err));\n};\n\nexport const getProducts = sortBy => {\n  return fetch(\n    `${process.env.REACT_APP_API_URL}/products?sortBy=${sortBy}&order=desc&limit=6`,\n    {\n      method: 'GET'\n    }\n  )\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => console.log(err));\n};\n\nexport const getFilteredProducts = (skip, limit, filters = {}) => {\n  const data = {\n    limit,\n    skip,\n    filters\n  };\n  return fetch(`${process.env.REACT_APP_API_URL}/products/by/search`, {\n    method: 'POST',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(data)\n  })\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => {\n      console.log(err);\n    });\n};\n\nexport const getSingleProduct = productId => {\n  return fetch(`${process.env.REACT_APP_API_URL}/product/${productId}`, {\n    method: 'GET'\n  })\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => console.log(err));\n};\n\nexport const getRelatedProducts = productId => {\n  return fetch(\n    `${process.env.REACT_APP_API_URL}/products/related/${productId}`,\n    {\n      method: 'GET'\n    }\n  )\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => console.log(err));\n};\n\nexport const getBraintreeClientToken = (userId, token) => {\n  return fetch(\n    `${process.env.REACT_APP_API_URL}/braintree/getToken/${userId}`,\n    {\n      method: 'GET',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${token}`\n      }\n    }\n  )\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => console.log(err));\n};\n\nexport const processPayment = (userId, token, paymentData) => {\n  return fetch(`${process.env.REACT_APP_API_URL}/braintree/payment/${userId}`, {\n    method: 'POST',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${token}`\n    },\n    body: JSON.stringify(paymentData)\n  })\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => console.log(err));\n};\n\nexport const createOrder = (userId, token, createOrderData) => {\n  return fetch(`${process.env.REACT_APP_API_URL}/order/create/${userId}`, {\n    method: 'POST',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${token}`\n    },\n    body: JSON.stringify({ order: createOrderData })\n  })\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => console.log(err));\n};\n"]},"metadata":{},"sourceType":"module"}