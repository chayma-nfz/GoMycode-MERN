{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Desktop\\\\Nouveau dossier (2)\\\\GoMycode-MERN\\\\client\\\\src\\\\components\\\\Cart\\\\Checkout.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport DropIn from 'braintree-web-drop-in-react'; //https://www.npmjs.com/package/braintree-web-drop-in-react\n\nimport { processPayment, getBraintreeClientToken, createOrder } from '../../helpers/userFetch';\nimport { isAuthenticated } from '../../helpers/authFetch';\nimport { emptyCart } from '../../helpers/cart';\n\nconst Checkout = ({\n  products,\n  setRender = f => f,\n  render = undefined\n}) => {\n  const [data, setData] = useState({\n    loading: false,\n    success: false,\n    clientToken: null,\n    error: '',\n    instance: {},\n    address: ''\n  });\n\n  const userId = isAuthenticated() && isAuthenticated().user._id;\n\n  const token = isAuthenticated() && isAuthenticated().token;\n\n  const getToken = (userId, token) => {\n    getBraintreeClientToken(userId, token).then(data => {\n      if (data.error) {\n        setData({ ...data,\n          error: data.error\n        });\n      } else {\n        setData({\n          clientToken: data.clientToken\n        });\n      }\n    });\n  };\n\n  useEffect(() => {\n    getToken(userId, token); // eslint-disable-next-line\n  }, []);\n\n  const getTotal = () => {\n    return products.reduce((currentValue, nextValue) => {\n      return Math.round(currentValue + nextValue.count * nextValue.price);\n    }, 0);\n  };\n\n  const showCheckout = () => {\n    return isAuthenticated() ? /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 7\n      }\n    }, showDropIn()) : /*#__PURE__*/React.createElement(Link, {\n      to: \"/signin\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }\n    }, \"Sign in here\"));\n  };\n\n  const buy = () => {\n    setData({\n      loading: true\n    }); // send the nonce to your server\n    // nonce = data.instance.requestPaymentMethod()\n\n    let nonce; // eslint-disable-next-line\n\n    let getNonce = data.instance.requestPaymentMethod().then(res => {\n      // console.log(data);\n      nonce = res.nonce; // once you have nonce (card type, card number) send nonce as 'paymentMethodNonce'\n      // and also total to be charged\n      // console.log(\n      //     \"send nonce and total to process: \",\n      //     nonce,\n      //     getTotal(products)\n      // );\n\n      const paymentData = {\n        paymentMethodNonce: nonce,\n        amount: getTotal(products)\n      };\n      processPayment(userId, token, paymentData).then(response => {\n        // console.log(response);\n        setData({ ...data,\n          success: response.success\n        }); // create order\n\n        const createOrderData = {\n          products: products,\n          transaction_id: response.transaction.id,\n          amount: response.transaction.amount,\n          address: data.address\n        };\n        createOrder(userId, token, createOrderData); // empty cart\n\n        emptyCart(() => {\n          setRender(!render); // re-render localstorage\n\n          console.log('payment success and empty cart');\n          setData({\n            loading: false,\n            success: true\n          });\n        });\n      }).catch(error => {\n        console.log(error);\n        setData({\n          loading: false\n        });\n      });\n    }).catch(error => {\n      // console.log(\"dropin error: \", error);\n      setData({ ...data,\n        error: error.message\n      });\n    });\n  };\n\n  const handleAddress = e => {\n    setData({ ...data,\n      address: e.target.value\n    });\n  };\n\n  const showDropIn = () => /*#__PURE__*/React.createElement(\"div\", {\n    onBlur: () => setData({ ...data,\n      error: ''\n    }),\n    className: \"w-50 m-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 5\n    }\n  }, data.clientToken !== null && products.length > 0 ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"text-muted\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 13\n    }\n  }, \"Delivery Address:\"), /*#__PURE__*/React.createElement(\"textarea\", {\n    className: \"form-control\",\n    placeholder: \"Enter here\",\n    value: data.address,\n    onChange: handleAddress,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(DropIn, {\n    options: {\n      authorization: data.clientToken,\n      paypal: {\n        flow: 'vault'\n      }\n    },\n    onInstance: instance => data.instance = instance,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: buy,\n    className: \"btn btn-success btn-block pt-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 11\n    }\n  }, \"Pay\")) : null);\n\n  const showError = error => /*#__PURE__*/React.createElement(\"div\", {\n    className: \"alert alert-danger\",\n    style: {\n      display: error ? '' : 'none'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 5\n    }\n  }, error);\n\n  const showSuccess = success => /*#__PURE__*/React.createElement(\"div\", {\n    className: \"alert alert-info\",\n    style: {\n      display: success ? '' : 'none'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 5\n    }\n  }, \"Thanks! Your payment was successful!\");\n\n  const showLoading = loading => loading && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"spinner-border\",\n    role: \"status\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"sr-only\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 11\n    }\n  }, \"Loading...\")));\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container-fluid \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 7\n    }\n  }, \"Total: $\", getTotal()), showLoading(data.loading), showSuccess(data.success), showError(data.error), showCheckout());\n};\n\nexport default Checkout;","map":{"version":3,"sources":["C:/Users/Admin/Desktop/Nouveau dossier (2)/GoMycode-MERN/client/src/components/Cart/Checkout.js"],"names":["React","useState","useEffect","Link","DropIn","processPayment","getBraintreeClientToken","createOrder","isAuthenticated","emptyCart","Checkout","products","setRender","f","render","undefined","data","setData","loading","success","clientToken","error","instance","address","userId","user","_id","token","getToken","then","getTotal","reduce","currentValue","nextValue","Math","round","count","price","showCheckout","showDropIn","buy","nonce","getNonce","requestPaymentMethod","res","paymentData","paymentMethodNonce","amount","response","createOrderData","transaction_id","transaction","id","console","log","catch","message","handleAddress","e","target","value","length","authorization","paypal","flow","showError","display","showSuccess","showLoading"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport DropIn from 'braintree-web-drop-in-react'; //https://www.npmjs.com/package/braintree-web-drop-in-react\nimport {\n  processPayment,\n  getBraintreeClientToken,\n  createOrder\n} from '../../helpers/userFetch';\nimport { isAuthenticated } from '../../helpers/authFetch';\nimport { emptyCart } from '../../helpers/cart';\n\nconst Checkout = ({ products, setRender = f => f, render = undefined }) => {\n  const [data, setData] = useState({\n    loading: false,\n    success: false,\n    clientToken: null,\n    error: '',\n    instance: {},\n    address: ''\n  });\n\n  const userId = isAuthenticated() && isAuthenticated().user._id;\n  const token = isAuthenticated() && isAuthenticated().token;\n\n  const getToken = (userId, token) => {\n    getBraintreeClientToken(userId, token).then(data => {\n      if (data.error) {\n        setData({ ...data, error: data.error });\n      } else {\n        setData({ clientToken: data.clientToken });\n      }\n    });\n  };\n\n  useEffect(() => {\n    getToken(userId, token);\n    // eslint-disable-next-line\n  }, []);\n\n  const getTotal = () => {\n    return products.reduce((currentValue, nextValue) => {\n      return Math.round(currentValue + nextValue.count * nextValue.price);\n    }, 0);\n  };\n\n  const showCheckout = () => {\n    return isAuthenticated() ? (\n      <div>{showDropIn()}</div>\n    ) : (\n      <Link to=\"/signin\">\n        <button className=\"btn btn-primary\">Sign in here</button>\n      </Link>\n    );\n  };\n\n  const buy = () => {\n    setData({ loading: true });\n    // send the nonce to your server\n    // nonce = data.instance.requestPaymentMethod()\n    let nonce;\n    // eslint-disable-next-line\n    let getNonce = data.instance\n      .requestPaymentMethod()\n      .then(res => {\n        // console.log(data);\n        nonce = res.nonce;\n        // once you have nonce (card type, card number) send nonce as 'paymentMethodNonce'\n        // and also total to be charged\n        // console.log(\n        //     \"send nonce and total to process: \",\n        //     nonce,\n        //     getTotal(products)\n        // );\n        const paymentData = {\n          paymentMethodNonce: nonce,\n          amount: getTotal(products)\n        };\n\n        processPayment(userId, token, paymentData)\n          .then(response => {\n            // console.log(response);\n            setData({ ...data, success: response.success });\n            // create order\n            const createOrderData = {\n              products: products,\n              transaction_id: response.transaction.id,\n              amount: response.transaction.amount,\n              address: data.address\n            };\n            createOrder(userId, token, createOrderData);\n            // empty cart\n            emptyCart(() => {\n              setRender(!render); // re-render localstorage\n              console.log('payment success and empty cart');\n              setData({ loading: false, success: true });\n            });\n          })\n          .catch(error => {\n            console.log(error);\n            setData({ loading: false });\n          });\n      })\n      .catch(error => {\n        // console.log(\"dropin error: \", error);\n        setData({ ...data, error: error.message });\n      });\n  };\n\n  const handleAddress = e => {\n    setData({ ...data, address: e.target.value });\n  };\n  const showDropIn = () => (\n    <div onBlur={() => setData({ ...data, error: '' })} className=\"w-50 m-auto\">\n      {data.clientToken !== null && products.length > 0 ? (\n        <div>\n          <div className=\"form-group mb-3\">\n            <label className=\"text-muted\">Delivery Address:</label>\n            <textarea\n              className=\"form-control\"\n              placeholder=\"Enter here\"\n              value={data.address}\n              onChange={handleAddress}\n            />\n          </div>\n          <DropIn\n            options={{\n              authorization: data.clientToken,\n              paypal: {\n                flow: 'vault'\n              }\n            }}\n            onInstance={instance => (data.instance = instance)}\n          />\n          <button onClick={buy} className=\"btn btn-success btn-block pt-2\">\n            Pay\n          </button>\n        </div>\n      ) : null}\n    </div>\n  );\n\n  const showError = error => (\n    <div\n      className=\"alert alert-danger\"\n      style={{ display: error ? '' : 'none' }}\n    >\n      {error}\n    </div>\n  );\n\n  const showSuccess = success => (\n    <div\n      className=\"alert alert-info\"\n      style={{ display: success ? '' : 'none' }}\n    >\n      Thanks! Your payment was successful!\n    </div>\n  );\n\n  const showLoading = loading =>\n    loading && (\n      <div className=\"d-flex justify-content-center\">\n        <div className=\"spinner-border\" role=\"status\">\n          <span className=\"sr-only\">Loading...</span>\n        </div>\n      </div>\n    );\n\n  return (\n    <div className=\"container-fluid \">\n      <h2>Total: ${getTotal()}</h2>\n      {showLoading(data.loading)}\n      {showSuccess(data.success)}\n      {showError(data.error)}\n      {showCheckout()}\n    </div>\n  );\n};\n\nexport default Checkout;\n"]},"metadata":{},"sourceType":"module"}