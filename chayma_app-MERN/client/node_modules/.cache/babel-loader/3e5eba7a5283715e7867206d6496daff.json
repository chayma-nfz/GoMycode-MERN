{"ast":null,"code":"export var signup=function signup(user){return fetch(\"\".concat(process.env.REACT_APP_API_URL,\"/signup\"),{method:'POST',headers:{Accept:'application/json','Content-Type':'application/json'},body:JSON.stringify(user)}).then(function(response){return response.json();}).catch(function(err){console.log(err);});};export var signin=function signin(user){return fetch(\"\".concat(process.env.REACT_APP_API_URL,\"/signin\"),{method:'POST',headers:{Accept:'application/json','Content-Type':'application/json'},body:JSON.stringify(user)}).then(function(response){return response.json();}).catch(function(err){console.log(err);});};export var authenticate=function authenticate(data,next){if(typeof window!=='undefined'){localStorage.setItem('jwt',JSON.stringify(data));next();}};export var signout=function signout(){if(typeof window!=='undefined'){localStorage.removeItem('jwt');return fetch(\"\".concat(process.env.REACT_APP_API_URL,\"/signout\"),{method:'GET'}).then(function(response){console.log('signout',response);}).catch(function(err){return console.log(err);});}};export var isAuthenticated=function isAuthenticated(){if(typeof window=='undefined')return false;if(localStorage.getItem('jwt')){return JSON.parse(localStorage.getItem('jwt'));}else{return false;}};export var googleLogin=function googleLogin(user){return fetch(\"\".concat(process.env.REACT_APP_API_URL,\"/google-login\"),{method:'POST',headers:{Accept:'application/json','Content-Type':'application/json'},body:JSON.stringify(user)}).then(function(response){return response.json();}).catch(function(err){return console.log(err);});};export var facebookLogin=function facebookLogin(user){return fetch(\"\".concat(process.env.REACT_APP_API_URL,\"/facebook-login\"),{method:'POST',headers:{Accept:'application/json','Content-Type':'application/json'},body:JSON.stringify(user)}).then(function(response){return response.json();}).catch(function(err){return console.log(err);});};export var forgotPasswordFetch=function forgotPasswordFetch(email){return fetch(\"\".concat(process.env.REACT_APP_API_URL,\"/forgot-password\"),{method:'PUT',headers:{Accept:'application/json','Content-Type':'application/json'},body:JSON.stringify(email)}).then(function(response){return response.json();}).catch(function(err){return console.log(err);});};export var resetPasswordFetch=function resetPasswordFetch(data){return fetch(\"\".concat(process.env.REACT_APP_API_URL,\"/reset-password\"),{method:'PUT',headers:{Accept:'application/json','Content-Type':'application/json'},body:JSON.stringify(data)}).then(function(response){return response.json();}).catch(function(err){return console.log(err);});};","map":{"version":3,"sources":["C:/Users/Admin/Desktop/Nouveau dossier (2)/ECommerce-MERN/client/src/helpers/authFetch.js"],"names":["signup","user","fetch","process","env","REACT_APP_API_URL","method","headers","Accept","body","JSON","stringify","then","response","json","catch","err","console","log","signin","authenticate","data","next","window","localStorage","setItem","signout","removeItem","isAuthenticated","getItem","parse","googleLogin","facebookLogin","forgotPasswordFetch","email","resetPasswordFetch"],"mappings":"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","sourcesContent":["export const signup = user => {\n  return fetch(`${process.env.REACT_APP_API_URL}/signup`, {\n    method: 'POST',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(user)\n  })\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => {\n      console.log(err);\n    });\n};\n\nexport const signin = user => {\n  return fetch(`${process.env.REACT_APP_API_URL}/signin`, {\n    method: 'POST',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(user)\n  })\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => {\n      console.log(err);\n    });\n};\n\nexport const authenticate = (data, next) => {\n  if (typeof window !== 'undefined') {\n    localStorage.setItem('jwt', JSON.stringify(data));\n    next();\n  }\n};\n\nexport const signout = () => {\n  if (typeof window !== 'undefined') {\n    localStorage.removeItem('jwt');\n\n    return fetch(`${process.env.REACT_APP_API_URL}/signout`, {\n      method: 'GET'\n    })\n      .then(response => {\n        console.log('signout', response);\n      })\n      .catch(err => console.log(err));\n  }\n};\n\nexport const isAuthenticated = () => {\n  if (typeof window == 'undefined') return false;\n  if (localStorage.getItem('jwt')) {\n    return JSON.parse(localStorage.getItem('jwt'));\n  } else {\n    return false;\n  }\n};\n\nexport const googleLogin = user => {\n  return fetch(`${process.env.REACT_APP_API_URL}/google-login`, {\n    method: 'POST',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(user)\n  })\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => console.log(err));\n};\n\nexport const facebookLogin = user => {\n  return fetch(`${process.env.REACT_APP_API_URL}/facebook-login`, {\n    method: 'POST',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(user)\n  })\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => console.log(err));\n};\n\nexport const forgotPasswordFetch = email => {\n  return fetch(`${process.env.REACT_APP_API_URL}/forgot-password`, {\n    method: 'PUT',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(email)\n  })\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => console.log(err));\n};\n\nexport const resetPasswordFetch = data => {\n  return fetch(`${process.env.REACT_APP_API_URL}/reset-password`, {\n    method: 'PUT',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(data)\n  })\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => console.log(err));\n};\n"]},"metadata":{},"sourceType":"module"}