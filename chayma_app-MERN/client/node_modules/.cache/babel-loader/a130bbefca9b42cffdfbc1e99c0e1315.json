{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\Admin\\\\Desktop\\\\Nouveau dossier (2)\\\\ECommerce-MERN\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{getSingleProduct,getRelatedProducts}from'../../helpers/userFetch';import Card from'../Home/Card';var Product=function Product(_ref){var match=_ref.match;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),product=_useState2[0],setProduct=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),relatedProducts=_useState4[0],setRelatedProducts=_useState4[1];var _useState5=useState(false),setError=_useState5.setError;useEffect(function(){var productId=match.params.productId;//Fetch single Product\ngetSingleProduct(productId).then(function(data){if(data.error){setError(data.error);}else{setProduct(data);// Fetch related products if fetch single product successfully\ngetRelatedProducts(data._id).then(function(data){if(data.error){setError(data.error);}else{setRelatedProducts(data);}});}});// eslint-disable-next-line\n},[]);// console.log(product);\n// console.log(relatedProducts);\nvar showNoRelated=function showNoRelated(){return relatedProducts.length===0&&React.createElement(\"h4\",null,\"No related products found.\");};return React.createElement(React.Fragment,null,React.createElement(\"div\",{className:\"m-2 d-flex justify-content-center\"},React.createElement(\"div\",{className:\"col-6\"},product&&product.description&&React.createElement(Card,{product:product,showViewButton:false}))),React.createElement(\"div\",{className:\"text-center\"},React.createElement(\"h1\",{className:\"title p-3\"},\"Related Products\"),showNoRelated(),React.createElement(\"div\",{className:\"row m-2\"},relatedProducts.map(function(product){return React.createElement(\"div\",{className:\"col-4\",key:product._id},React.createElement(Card,{product:product}));}))));};export default Product;","map":{"version":3,"sources":["C:/Users/Admin/Desktop/Nouveau dossier (2)/ECommerce-MERN/client/src/components/Product/Product.js"],"names":["React","useState","useEffect","getSingleProduct","getRelatedProducts","Card","Product","match","product","setProduct","relatedProducts","setRelatedProducts","setError","productId","params","then","data","error","_id","showNoRelated","length","description","map"],"mappings":"4JAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,gBAAT,CAA2BC,kBAA3B,KAAqD,yBAArD,CACA,MAAOC,CAAAA,IAAP,KAAiB,cAAjB,CAEA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,MAAe,IAAZC,CAAAA,KAAY,MAAZA,KAAY,eACCN,QAAQ,CAAC,EAAD,CADT,wCACtBO,OADsB,eACbC,UADa,8BAEiBR,QAAQ,CAAC,EAAD,CAFzB,yCAEtBS,eAFsB,eAELC,kBAFK,8BAGRV,QAAQ,CAAC,KAAD,CAHA,CAGrBW,QAHqB,YAGrBA,QAHqB,CAK7BV,SAAS,CAAC,UAAM,CACd,GAAMW,CAAAA,SAAS,CAAGN,KAAK,CAACO,MAAN,CAAaD,SAA/B,CACA;AACAV,gBAAgB,CAACU,SAAD,CAAhB,CAA4BE,IAA5B,CAAiC,SAAAC,IAAI,CAAI,CACvC,GAAIA,IAAI,CAACC,KAAT,CAAgB,CACdL,QAAQ,CAACI,IAAI,CAACC,KAAN,CAAR,CACD,CAFD,IAEO,CACLR,UAAU,CAACO,IAAD,CAAV,CACA;AACAZ,kBAAkB,CAACY,IAAI,CAACE,GAAN,CAAlB,CAA6BH,IAA7B,CAAkC,SAAAC,IAAI,CAAI,CACxC,GAAIA,IAAI,CAACC,KAAT,CAAgB,CACdL,QAAQ,CAACI,IAAI,CAACC,KAAN,CAAR,CACD,CAFD,IAEO,CACLN,kBAAkB,CAACK,IAAD,CAAlB,CACD,CACF,CAND,EAOD,CACF,CAdD,EAeA;AACD,CAnBQ,CAmBN,EAnBM,CAAT,CAqBA;AACA;AACA,GAAMG,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAM,CAC1B,MAAOT,CAAAA,eAAe,CAACU,MAAhB,GAA2B,CAA3B,EAAgC,2DAAvC,CACD,CAFD,CAIA,MACE,yCACE,2BAAK,SAAS,CAAC,mCAAf,EACE,2BAAK,SAAS,CAAC,OAAf,EACGZ,OAAO,EAAIA,OAAO,CAACa,WAAnB,EACC,oBAAC,IAAD,EAAM,OAAO,CAAEb,OAAf,CAAwB,cAAc,CAAE,KAAxC,EAFJ,CADF,CADF,CAQE,2BAAK,SAAS,CAAC,aAAf,EACE,0BAAI,SAAS,CAAC,WAAd,qBADF,CAEGW,aAAa,EAFhB,CAGE,2BAAK,SAAS,CAAC,SAAf,EACGT,eAAe,CAACY,GAAhB,CAAoB,SAAAd,OAAO,QAC1B,4BAAK,SAAS,CAAC,OAAf,CAAuB,GAAG,CAAEA,OAAO,CAACU,GAApC,EACE,oBAAC,IAAD,EAAM,OAAO,CAAEV,OAAf,EADF,CAD0B,EAA3B,CADH,CAHF,CARF,CADF,CAsBD,CAtDD,CAwDA,cAAeF,CAAAA,OAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { getSingleProduct, getRelatedProducts } from '../../helpers/userFetch';\nimport Card from '../Home/Card';\n\nconst Product = ({ match }) => {\n  const [product, setProduct] = useState({});\n  const [relatedProducts, setRelatedProducts] = useState([]);\n  const { setError } = useState(false);\n\n  useEffect(() => {\n    const productId = match.params.productId;\n    //Fetch single Product\n    getSingleProduct(productId).then(data => {\n      if (data.error) {\n        setError(data.error);\n      } else {\n        setProduct(data);\n        // Fetch related products if fetch single product successfully\n        getRelatedProducts(data._id).then(data => {\n          if (data.error) {\n            setError(data.error);\n          } else {\n            setRelatedProducts(data);\n          }\n        });\n      }\n    });\n    // eslint-disable-next-line\n  }, []);\n\n  // console.log(product);\n  // console.log(relatedProducts);\n  const showNoRelated = () => {\n    return relatedProducts.length === 0 && <h4>No related products found.</h4>;\n  };\n\n  return (\n    <>\n      <div className=\"m-2 d-flex justify-content-center\">\n        <div className=\"col-6\">\n          {product && product.description && (\n            <Card product={product} showViewButton={false} />\n          )}\n        </div>\n      </div>\n      <div className=\"text-center\">\n        <h1 className=\"title p-3\">Related Products</h1>\n        {showNoRelated()}\n        <div className=\"row m-2\">\n          {relatedProducts.map(product => (\n            <div className=\"col-4\" key={product._id}>\n              <Card product={product} />\n            </div>\n          ))}\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default Product;\n"]},"metadata":{},"sourceType":"module"}