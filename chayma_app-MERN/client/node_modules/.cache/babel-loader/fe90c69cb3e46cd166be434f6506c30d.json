{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\Admin\\\\Desktop\\\\Nouveau dossier (2)\\\\ECommerce-MERN\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{Link}from'react-router-dom';import{createCategory}from'../../helpers/adminFetch';import{isAuthenticated}from'../../helpers/authFetch';var CreateCategory=function CreateCategory(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),success=_useState6[0],setSuccess=_useState6[1];var _isAuthenticated=isAuthenticated(),user=_isAuthenticated.user,token=_isAuthenticated.token;var handleChange=function handleChange(e){setError('');setName(e.target.value);};var clickSubmit=function clickSubmit(e){e.preventDefault();setError('');setSuccess(false);//request an API call\ncreateCategory(user._id,token,{name:name}).then(function(data){if(data.error){setError(data.error);}else{setError('');setSuccess(true);}});};var newCategoryForm=function newCategoryForm(){return React.createElement(\"form\",{onSubmit:clickSubmit},React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"label\",{htmlFor:\"\",className:\"text-muted\"},\"Category Name\"),React.createElement(\"input\",{type:\"text\",className:\"form-control\",autoFocus:true,value:name,onChange:handleChange,required:true})),React.createElement(Link,{to:\"/admin/dashboard\",className:\"btn btn-outline-warning float-left\"},\"Back\"),React.createElement(\"button\",{className:\"btn btn-outline-primary float-right\"},\"Create\"));};var showSuccess=function showSuccess(){if(success)return React.createElement(\"h3\",{className:\"text-success\"},name,\" is created successfully!\");};var showError=function showError(){if(error)return React.createElement(\"h3\",{className:\"text-danger\"},error);};return React.createElement(\"div\",{className:\"container w-50\"},React.createElement(\"h1\",{className:\"title m-3 text-center\"},\"New Category\"),showError(),showSuccess(),newCategoryForm());};export default CreateCategory;","map":{"version":3,"sources":["C:/Users/Admin/Desktop/Nouveau dossier (2)/ECommerce-MERN/client/src/components/AdminDashboard/CreateCategory.js"],"names":["React","useState","Link","createCategory","isAuthenticated","CreateCategory","name","setName","error","setError","success","setSuccess","user","token","handleChange","e","target","value","clickSubmit","preventDefault","_id","then","data","newCategoryForm","showSuccess","showError"],"mappings":"4JAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,OAASC,cAAT,KAA+B,0BAA/B,CACA,OAASC,eAAT,KAAgC,yBAAhC,CAEA,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,EAAM,eACHJ,QAAQ,CAAC,EAAD,CADL,wCACpBK,IADoB,eACdC,OADc,8BAEDN,QAAQ,CAAC,KAAD,CAFP,yCAEpBO,KAFoB,eAEbC,QAFa,8BAGGR,QAAQ,CAAC,KAAD,CAHX,yCAGpBS,OAHoB,eAGXC,UAHW,oCAKHP,eAAe,EALZ,CAKnBQ,IALmB,kBAKnBA,IALmB,CAKbC,KALa,kBAKbA,KALa,CAO3B,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAAAC,CAAC,CAAI,CACxBN,QAAQ,CAAC,EAAD,CAAR,CACAF,OAAO,CAACQ,CAAC,CAACC,MAAF,CAASC,KAAV,CAAP,CACD,CAHD,CAKA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAAAH,CAAC,CAAI,CACvBA,CAAC,CAACI,cAAF,GACAV,QAAQ,CAAC,EAAD,CAAR,CACAE,UAAU,CAAC,KAAD,CAAV,CACA;AACAR,cAAc,CAACS,IAAI,CAACQ,GAAN,CAAWP,KAAX,CAAkB,CAAEP,IAAI,CAAJA,IAAF,CAAlB,CAAd,CAA0Ce,IAA1C,CAA+C,SAAAC,IAAI,CAAI,CACrD,GAAIA,IAAI,CAACd,KAAT,CAAgB,CACdC,QAAQ,CAACa,IAAI,CAACd,KAAN,CAAR,CACD,CAFD,IAEO,CACLC,QAAQ,CAAC,EAAD,CAAR,CACAE,UAAU,CAAC,IAAD,CAAV,CACD,CACF,CAPD,EAQD,CAbD,CAeA,GAAMY,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,SACtB,6BAAM,QAAQ,CAAEL,WAAhB,EACE,2BAAK,SAAS,CAAC,YAAf,EACE,6BAAO,OAAO,CAAC,EAAf,CAAkB,SAAS,CAAC,YAA5B,kBADF,CAIE,6BACE,IAAI,CAAC,MADP,CAEE,SAAS,CAAC,cAFZ,CAGE,SAAS,KAHX,CAIE,KAAK,CAAEZ,IAJT,CAKE,QAAQ,CAAEQ,YALZ,CAME,QAAQ,KANV,EAJF,CADF,CAcE,oBAAC,IAAD,EACE,EAAE,CAAC,kBADL,CAEE,SAAS,CAAC,oCAFZ,SAdF,CAoBE,8BAAQ,SAAS,CAAC,qCAAlB,WApBF,CADsB,EAAxB,CAyBA,GAAMU,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACxB,GAAId,OAAJ,CACE,MAAO,2BAAI,SAAS,CAAC,cAAd,EAA8BJ,IAA9B,6BAAP,CACH,CAHD,CAKA,GAAMmB,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,CACtB,GAAIjB,KAAJ,CAAW,MAAO,2BAAI,SAAS,CAAC,aAAd,EAA6BA,KAA7B,CAAP,CACZ,CAFD,CAIA,MACE,4BAAK,SAAS,CAAC,gBAAf,EACE,0BAAI,SAAS,CAAC,uBAAd,iBADF,CAEGiB,SAAS,EAFZ,CAGGD,WAAW,EAHd,CAIGD,eAAe,EAJlB,CADF,CAQD,CArED,CAuEA,cAAelB,CAAAA,cAAf","sourcesContent":["import React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { createCategory } from '../../helpers/adminFetch';\nimport { isAuthenticated } from '../../helpers/authFetch';\n\nconst CreateCategory = () => {\n  const [name, setName] = useState('');\n  const [error, setError] = useState(false);\n  const [success, setSuccess] = useState(false);\n\n  const { user, token } = isAuthenticated();\n\n  const handleChange = e => {\n    setError('');\n    setName(e.target.value);\n  };\n\n  const clickSubmit = e => {\n    e.preventDefault();\n    setError('');\n    setSuccess(false);\n    //request an API call\n    createCategory(user._id, token, { name }).then(data => {\n      if (data.error) {\n        setError(data.error);\n      } else {\n        setError('');\n        setSuccess(true);\n      }\n    });\n  };\n\n  const newCategoryForm = () => (\n    <form onSubmit={clickSubmit}>\n      <div className=\"form-group\">\n        <label htmlFor=\"\" className=\"text-muted\">\n          Category Name\n        </label>\n        <input\n          type=\"text\"\n          className=\"form-control\"\n          autoFocus\n          value={name}\n          onChange={handleChange}\n          required\n        />\n      </div>\n      <Link\n        to=\"/admin/dashboard\"\n        className=\"btn btn-outline-warning float-left\"\n      >\n        Back\n      </Link>\n      <button className=\"btn btn-outline-primary float-right\">Create</button>\n    </form>\n  );\n\n  const showSuccess = () => {\n    if (success)\n      return <h3 className=\"text-success\">{name} is created successfully!</h3>;\n  };\n\n  const showError = () => {\n    if (error) return <h3 className=\"text-danger\">{error}</h3>;\n  };\n\n  return (\n    <div className=\"container w-50\">\n      <h1 className=\"title m-3 text-center\">New Category</h1>\n      {showError()}\n      {showSuccess()}\n      {newCategoryForm()}\n    </div>\n  );\n};\n\nexport default CreateCategory;\n"]},"metadata":{},"sourceType":"module"}